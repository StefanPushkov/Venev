<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0068)http://mycontroller.ru/old_site/stm32-usb-nemnogo-teorii/default.htm -->
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="ru-RU" class="chrome  win"><head profile="http://gmpg.org/xfn/11"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7">
<title>STM32 USB Немного теории</title>
<script type="text/javascript" src="./STM32 USB Немного теории_files/script.js.Без названия"></script>
<link rel="stylesheet" href="./STM32 USB Немного теории_files/style.css" type="text/css" media="screen">
<!--[if IE 6]><link rel="stylesheet" href="../wp-content/themes/MyController/style.ie6.css" type="text/css" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="../wp-content/themes/MyController/style.ie7.css" type="text/css" media="screen" /><![endif]-->
<link rel="alternate" type="application/rss+xml" title="RSS-лента My Controller" href="http://mycontroller.ru/old_site/feed/default.htm">
<link rel="alternate" type="application/atom+xml" title="Atom-лента My Controller" href="http://mycontroller.ru/old_site/feed/atom/default.htm"> 
<link rel="pingback" href="http://mycontroller.ru/xmlrpc.php">
<link rel="alternate" type="application/rss+xml" title="My Controller » Лента комментариев к «STM32 USB Немного теории»" href="http://mycontroller.ru/old_site/stm32-usb-nemnogo-teorii/feed/default.htm">
<link rel="stylesheet" id="msw_wpfm_scan-css" href="./STM32 USB Немного теории_files/wordpress-file-monitor.php@ver=scan" type="text/css" media="all">
<link rel="stylesheet" id="bwp-syntax-css" href="./STM32 USB Немного теории_files/bwp-syntax.css@ver=3.3.1" type="text/css" media="all">
<link rel="stylesheet" id="wp-downloadmanager-css" href="./STM32 USB Немного теории_files/download-css.css@ver=1.50" type="text/css" media="all">
<link rel="stylesheet" id="wp-pagenavi-css" href="./STM32 USB Немного теории_files/pagenavi-css.css@ver=2.70" type="text/css" media="all">
<script type="text/javascript" src="./STM32 USB Немного теории_files/jquery.js@ver=1.7.1"></script>
<script type="text/javascript" src="./STM32 USB Немного теории_files/bwp-syntax.js@ver=3.3.1"></script>
<script type="text/javascript" src="./STM32 USB Немного теории_files/external-tracking.min.js@ver=6.0.2"></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://mycontroller.ru/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://mycontroller.ru/old_site/wp-includes/wlwmanifest.xml"> 
<link rel="prev" title="STM32 USB. Введение" href="http://mycontroller.ru/old_site/stm32-usb-vvedenie/default.htm">
<link rel="next" title="Система “Умный дом”. Введение" href="http://mycontroller.ru/old_site/sistema-ldquo-umnyiy-dom-rdquo-vvedenie/default.htm">
<meta name="generator" content="WordPress 3.3.1">
<link rel="canonical" href="http://mycontroller.ru/old_site/stm32-usb-nemnogo-teorii/default.htm">
<link rel="shortlink" href="http://mycontroller.ru/old_site/@p=2708">

<!-- Protected by WP-SpamFree v2.1.1.2 :: JS BEGIN -->
<script type="text/javascript" src="./STM32 USB Немного теории_files/wpsf-js.php"></script> 
<!-- Protected by WP-SpamFree v2.1.1.2 :: JS END -->


<link rel="stylesheet" href="./STM32 USB Немного теории_files/wp-syntax.css" type="text/css" media="screen">
<!-- wpSpoiler Code -->
        <script type="text/javascript">
            function wpSpoilerToggle(spoiler, link, showtext, hidetext) {
                if (spoiler.style.display != 'none') {
                    spoiler.style.display = 'none';
                    link.innerHTML = showtext;
                    link.className = 'spoiler_link_show';
                } else {
                    spoiler.style.display = 'block';
                    link.innerHTML = hidetext;
                    link.className = 'spoiler_link_hide';
                }
            }
          </script>
	<link type="text/css" rel="stylesheet" href="./STM32 USB Немного теории_files/shCore.css">
	<link type="text/css" rel="stylesheet" href="./STM32 USB Немного теории_files/shThemeDefault.css">
<!-- Google Analytics Tracking by Google Analyticator 6.0.2: http://ronaldheft.com/code/analyticator/ -->
<script type="text/javascript">window.google_analytics_uacct = "UA-29082067-1";</script>
<script type="text/javascript">
	var analyticsFileTypes = [''];
	var analyticsEventTracking = 'enabled';
</script>
<!--ipt type="text/javascript">
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-29082067-1']);
	_gaq.push(['_trackPageview']);

	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ga);
	})();
</scri-->
</head>
<body>
<div id="art-page-background-simple-gradient">
</div>
<div id="art-main">
<div class="art-Sheet">
    <div class="art-Sheet-tl"></div>
    <div class="art-Sheet-tr"></div>
    <div class="art-Sheet-bl"></div>
    <div class="art-Sheet-br"></div>
    <div class="art-Sheet-tc"></div>
    <div class="art-Sheet-bc"></div>
    <div class="art-Sheet-cl"></div>
    <div class="art-Sheet-cr"></div>
    <div class="art-Sheet-cc"></div>
    <div class="art-Sheet-body">
<div class="art-Header">
    <div class="art-Header-png"></div>
    <div class="art-Header-jpeg"></div>
<div class="art-Logo">
    <h1 id="name-text" class="art-Logo-name">
        <a href="http://mycontroller.ru/old_site/default.htm">My Controller</a></h1>
    <div id="slogan-text" class="art-Logo-text">
        Изучаем микроконтроллеры STM32</div>
</div>

</div>
<div class="art-nav">
	<div class="l"></div>
	<div class="r"></div>
	<ul class="art-menu">
		<li><a href="http://mycontroller.ru/old_site/default.htm"><span class="l"></span><span class="r"></span><span class="t">Home</span></a></li><li><span class="art-menu-separator"></span></li><li class="page_item page-item-10"><a href="http://mycontroller.ru/old_site/o-sayte/default.htm"><span class="l"></span><span class="r"></span><span class="t">О сайте</span></a></li><li><span class="art-menu-separator"></span></li>
<li class="page_item page-item-186"><a href="http://mycontroller.ru/old_site/programmyi/default.htm"><span class="l"></span><span class="r"></span><span class="t">СОФТ</span></a></li>
	</ul>
</div>
<div class="art-contentLayout">
<div class="art-content">



<div class="art-Post">
    <div class="art-Post-tl"></div>
    <div class="art-Post-tr"></div>
    <div class="art-Post-bl"></div>
    <div class="art-Post-br"></div>
    <div class="art-Post-tc"></div>
    <div class="art-Post-bc"></div>
    <div class="art-Post-cl"></div>
    <div class="art-Post-cr"></div>
    <div class="art-Post-cc"></div>
    <div class="art-Post-body">
<div class="art-Post-inner art-article">

<div class="art-PostContent">

<div class="navigation">
	<div class="alignleft">« <a href="http://mycontroller.ru/old_site/stm32-usb-vvedenie/default.htm" rel="prev">STM32 USB. Введение</a></div>
	<div class="alignright"><a href="http://mycontroller.ru/old_site/sistema-ldquo-umnyiy-dom-rdquo-vvedenie/default.htm" rel="next">Система “Умный дом”. Введение</a> »</div>
</div>

</div>
<div class="cleared"></div>


</div>

		<div class="cleared"></div>
    </div>
</div>

<div class="art-Post">
    <div class="art-Post-tl"></div>
    <div class="art-Post-tr"></div>
    <div class="art-Post-bl"></div>
    <div class="art-Post-br"></div>
    <div class="art-Post-tc"></div>
    <div class="art-Post-bc"></div>
    <div class="art-Post-cl"></div>
    <div class="art-Post-cr"></div>
    <div class="art-Post-cc"></div>
    <div class="art-Post-body">
<div class="art-Post-inner art-article">
<h2 class="art-PostHeader">
<a href="http://mycontroller.ru/old_site/stm32-usb-nemnogo-teorii/default.htm" rel="bookmark" title="Постоянная ссылка на STM32 USB Немного теории">
STM32 USB Немного теории</a>
</h2>
<div class="art-PostContent">

          <p>Покопавшись в интернете а также прочитав книгу Агурова “Практика программирования USB” попытаюсь выделить основные понятия, которые пригодятся для работы с USB. </p>
<p><em>Для лучшего понимания рекомендую после первого прочтения статьи&nbsp; выпить чашечку чая, затем прочитать еще раз. На следующий день сделать то же самое. Что поделать, такой он интерфейс USB: после первого прочтения сложно все понять.</em></p>
<p><span id="more-2708"></span>
</p><p align="left">Начну с небольшого описания классификации интерфейса USB. Существует несколько спецификаций этого интерфейса: USB 1.0, USB 2.0 и USB 3.0</p>
<p align="left">Сейчас самым распространенным является USB 2.0. Именно его поддерживают микроконтроллеры STM32. Он имеет три режима работы:</p>
<ul>
<li>
<div align="left"><font color="#000000">Низкоскоростной (LS, Low-speed) – до 1.5 Мбит/с;</font></div>
</li>
<li>
<div align="left"><font color="#000000">Полноскоростной (FS, Full-speed) – до 12 Мбит/с;</font></div>
</li>
<li>
<div align="left"><font color="#000000">Высокоскорстной (HS, High-speed) – до 480 Мбит/с.</font>&nbsp;</div>
</li>
</ul>
<h3 align="left">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Описания структуры интерфейса USB:</h3>
<p>Имеется один хост (обычно это компьютер, но при его отсутствии хостом может быть специальный контроллер) и от 1 до 127 подчиненных устройств (в нашем случае каждое устройство – это микроконтроллер STM32). </p>
<p><a href="http://mycontroller.ru/old_site/wp-content/uploads/image174.png"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top-width: 0px; border-bottom-width: 0px; margin-left: auto; border-left-width: 0px; margin-right: auto; padding-top: 0px" title="image" border="0" alt="image" src="./STM32 USB Немного теории_files/image_thumb175.png" width="419" height="155"></a></p>
<p>Всеми делами на шине заправляет именно хост: только он связывается с устройствами и осуществляет обмен данными с ними, USB-устройство не может самостоятельно обратится к хосту, оно должно ожидать, пока хост сам обратится к нему.</p>
<h3 align="center">Конечные точки</h3>
<p>С точки зрения хоста каждое USB-устройство представляет собой совокупность так называемых <em>конечных точек (endpoint)</em>, которых в устройстве может быть несколько, но не меньше одной<em>.</em> Согласно Агурову, “конечная точка – это часть USB-устройства, которая имеет уникальный идентификатор и является получателем или отправителем информации, передаваемой по шине USB”. </p>
<p>В реальности каждая конечная точка представляет собой буфер данных в памяти контроллера (это название нужно запомнить и понять его суть). </p>
<p>Каждое устройство имеет свой логический адрес (об этом немного позже) и несколько конечных точек, имеющих свои номера. Когда хост обращается к устройству, он использует адрес устройства и номер конечной точки, к которой обращается. Процесс обмена по шине USB представляет собой обмен данными между хостом и конечной точкой (т.е. буфером в памяти контроллера, который за ней закреплен).</p>
<p>Каждое устройство обязано иметь <em>нулевую конечную точку</em>, обращаясь к которой хост может определить тип и параметры устройства а также выполнить его инициализацию и конфигурирование. Когда устройство было только подключено, хосту доступна только нулевая конечная точка. Посредством ее хост считывает информацию об устройстве и выполняет его настройку. </p>
<p><font size="1"><em>Наверное замечали, как при подключении USB-устройства к компьютеру, на экране появляется название устройства. Это название а также другая полезная информация передается именно посредством нулевой конечной точки.</em></font></p>
<p>Немного позже рассмотрим структуру данных, которые содержит нулевая конечная точка, а сейчас поговорим об адресе USB-устройства. Как было упомянуто, возможно до 127 адресов устройств. При подключении устройству присваивается нулевой адрес. Хост, поняв что к нему подключили новое устройство, обращается по нулевому адресу к его нулевой конечной точке. В процессе конфигурирования он присваивает ему новый адрес (например 1), по которому потом с ним и работает. </p>
<h3 align="center">Передача данных</h3>
<p align="center">Пришло время рассмотреть принцип обмена информацией между хостом и устройством. Для этого введем понятие канала. <em>Канал</em> – это логическое соединение между программным обеспечением хоста и конечной точкой. Физически его не существует, но благодаря всему каналообразующему оборудованию шины USB со стороны хоста и устройства, хост работает к конкретной конечной точкой как бы через отдельный канал, не задумываясь над тем, что находится между ними. Со стороны устройства (читай микроконтроллер STM32) таким каналообразующим оборудованием является модуль USB с его регистрами и прочими штуками. Все выше сказанное выглядит примерно так: </p>
<p align="center">&nbsp;</p>
<p align="center"><a href="http://mycontroller.ru/old_site/wp-content/uploads/image175.png"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top-width: 0px; border-bottom-width: 0px; margin-left: auto; border-left-width: 0px; margin-right: auto; padding-top: 0px" title="image" border="0" alt="image" src="./STM32 USB Немного теории_files/image_thumb176.png" width="644" height="171"></a></p>
<p>Постепенно мы подошли к самому интересному – что представляет собой поток кадров, который циркулирует между хостом и устройством, т.е. в каком формате передается информация, как адресуются устройства и их конечные точки.</p>
<p>Структура данных следующая: вся информация передается<strong> кадрами</strong>, которые следуют друг за другом каждую миллисекунду. Кадр состоит из некоторого количества <strong>транзакций</strong>, каждая из которых относится к определенной конечной точке заданного устройства. Транзакции, в свою очередь, состоят из <strong>пакетов</strong>. </p>
<p>Каждая транзакция содержит адрес устройства и адрес конечной точки. Благодаря этим данным посылка достигает нужного адресата. Со стороны устройства USB-контроллер берет на себя всю черновую работу по приему этих посылок, их идентификации, контроль ошибок и пр. </p>
<p>Чтобы упорядочить сказанную выше информацию, приведу иллюстрацию, показывающую структуру передаваемых данных:</p>
<p><a href="http://mycontroller.ru/old_site/wp-content/uploads/image177.png"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top-width: 0px; border-bottom-width: 0px; margin-left: auto; border-left-width: 0px; margin-right: auto; padding-top: 0px" title="image" border="0" alt="image" src="./STM32 USB Немного теории_files/image_thumb178.png" width="627" height="287"></a></p>
<p>Каждый кадр начинается пакетом SOF (start of frame). Этот пакет извещает все устройства, в том числе и наше, что начался новый кадр. Пакет SOF содержит информацию о номере текущего кадра. После него следуют транзакции, которые предназначаются для определенных конечных точек. Каждая транзакция состоит из трех пакетов. В первом пакете (который называется маркер-пакетом) содержится адрес устройства, для которого предназначена эта транзакция, номер конечной точки и тип действий, которые должно сделать устройства. Второй пакет – это данные, которые передаются конечной точке хостом (или которые передает конечная точка хосту). Третий пакет – подтверждение (или не подтверждение) о получении данных.</p>
<p>Как видим, вся информация передается в виде пакетов. Пакет состоит из пяти полей: </p>
<p><a href="http://mycontroller.ru/old_site/wp-content/uploads/image178.png"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top-width: 0px; border-bottom-width: 0px; margin-left: auto; border-left-width: 0px; margin-right: auto; padding-top: 0px" title="image" border="0" alt="image" src="./STM32 USB Немного теории_files/image_thumb179.png" width="470" height="41"></a></p>
<ol>
<li><font color="#000000">Поле SYNC – синхронизация. Указывает USB-модулю контроллера, что начинается новый пакет.</font> </li>
<li><font color="#000000">Поле PID – четырехбитное поле, которое указывает тип пакета.</font> </li>
<li><font color="#000000">Поле Check – побитная инверсия PID (как я понял, для контроля правильности PID).</font> </li>
<li><font color="#000000">Поле “Данные пакета” – содержит данные пакета.</font> </li>
<li><font color="#000000">Поле EOP – признак конца пакета.</font> </li>
</ol>
<p>Как мы увидели, транзакция состоит из трех пакетов. Пакеты, соответственно, бывают трех типов:</p>
<p><font color="#000000">маркер-пакеты, </font><font color="#000000">пакеты данных, </font><font color="#000000">пакеты подтверждения.</font> </p>
<p><a href="http://mycontroller.ru/old_site/wp-content/uploads/image181.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: block; float: none; margin-left: auto; border-top: 0px; margin-right: auto; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="./STM32 USB Немного теории_files/image_thumb182.png" width="671" height="408"></a></p>
<p><em>(на схеме не полный список возможных комбинаций PID, а только основные. Всего их 15 + одна зарезервированная)</em></p>
<p><u>Маркер-пакеты IN, OUT и SETUP</u></p>
<p>Эти пакеты посылает хост. Поле данных этих пакетов содержит адрес конечной точки, ее номер и контрольную сумму:</p>
<p><a href="http://mycontroller.ru/old_site/wp-content/uploads/image182.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: block; float: none; margin-left: auto; border-top: 0px; margin-right: auto; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="./STM32 USB Немного теории_files/image_thumb183.png" width="514" height="72"></a></p>
<p>Func – это адрес устройства, в котором расположена конечная точка, EndP – номер конечной точки, CRC вычисляется по Func и EndP.</p>
<p><u>Пакеты данных Data0 и Data1</u></p>
<p>Пакет данных следует после маркер-пакета, который указывает кому предназначены эти данные. Количество данных — от 0 до 1023 байт. После данных следует поле контроля данных:</p>
<p><a href="http://mycontroller.ru/old_site/wp-content/uploads/image183.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: block; float: none; margin-left: auto; border-top: 0px; margin-right: auto; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="./STM32 USB Немного теории_files/image_thumb184.png" width="514" height="72"></a></p>
<p>Пакеты данных имеют две разновидности – Data0 и Data1. Они отличаются только полем PID. В кадре эти пакеты обязательно чередуются, что сделано для контроля помех.</p>
<p><u>Пакеты подтверждения ACK, NACK</u></p>
<p>Эти пакеты посылать может и хост и устройство. Если хост или устройство приняло посылку успешно, то оно подтверждает это пакетом ACK. Иначе – пакетом NACK. Еще одно применение пакета NACK: устройство приняло маркер-пакет IN от хоста, но не может передать данные (например, они еще не готовы). В этом случае сразу после маркер-пакета устройство посылает в место данных пакет NACK, и хост поймет, что устройство пока не готово.</p>
<p><a href="http://mycontroller.ru/old_site/wp-content/uploads/image184.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: block; float: none; margin-left: auto; border-top: 0px; margin-right: auto; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="./STM32 USB Немного теории_files/image_thumb185.png" width="268" height="41"></a>Пакет подтверждения, в отличии от маркер-пакета и пакета данных, не имеет поля данных.</p>
<p><u>Пакет начала кадра SOF</u></p>
<p>Этот пакет передается в кадре всего один раз – в его начале:</p>
<p><a href="http://mycontroller.ru/old_site/wp-content/uploads/image185.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: block; float: none; margin-left: auto; border-top: 0px; margin-right: auto; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="./STM32 USB Немного теории_files/image_thumb186.png" width="618" height="73"></a></p>
<p>Поле Frame (11 разрядов) содержит номер передаваемого кадра. CRC (5 разрядов) – контрольная сумма, которая вычисляется по Frame.</p>
<p>Вернемся к транзакциям. Напомню, что транзакция предназначена для обмена данными между хостом и устройством. Каждая транзакция состоит из трех пакетов: маркер-пакет (указывает адрес и номер конечной точки для которой эта транзакция, и тип действий), пакет данных (передается от хоста к устройству или наоборот) и пакет подтверждения. В зависимости от типа маркер-пакета существует три разновидности транзакций:</p>
<p><a href="http://mycontroller.ru/old_site/wp-content/uploads/image190.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: block; float: none; margin-left: auto; border-top: 0px; margin-right: auto; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="./STM32 USB Немного теории_files/image_thumb191.png" width="643" height="454"></a></p>
<p><strong>Прием</strong> данных хостом инициируется посылкой маркер-пакета IN. Есть две разновидности приема – с подтверждением и без подтверждения приема (изохронный режим). </p>
<p><strong>Передача</strong> данных из хоста в устройство инициируется посылкой маркер пакета OUT. В этом режиме также существует две разновидности — с подтверждением и без подтверждения.</p>
<p>Если обмен происходит с подтверждением, то проверяется факт доставки посылки, без подтверждения – не проверяется. Зачем нужен последний режим? Изохронный режим обычно используется для приема/передачи аудио и видео информации, для которой несущественна потеря некоторого количества посылок, а вот скорость обмена весьма принципиальна.</p>
<p><strong>Передача команды</strong> – это третья разновидность транзакций. Начинается с маркер-пакета SETUP. Используется для конфигурирования устройства хостом.</p>
<h3 align="center">Протоколы транзакций</h3>
<p>Мы рассмотрели три разновидности транзакций: IN, OUT и SETUP. В зависимости от типа передачи данных каждая посылка состоит из одной или нескольких транзакций. Дальше рассмотрим разновидности посылок.</p>
<p><u>Управляющие посылки</u></p>
<p>Эти посылки используются для конфигурирования устройства. Начинаются с транзакции передачи команды (SETUP). Есть три разновидности:</p>
<p>Управляющая посылка <strong>записи данных</strong> (Control Write). Используются непосредственно для конфигурирования устройства. Начинается с передачи SETUP, после чего следует одна или несколько транзакций OUT с подтверждением, в которых содержатся конфигурирующие данные. После этого транзакция IN с пустым пакетом данных, что является подтверждением успешного завершения операции:</p>
<p><a href="http://mycontroller.ru/old_site/wp-content/uploads/image191.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: block; float: none; margin-left: auto; border-top: 0px; margin-right: auto; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="./STM32 USB Немного теории_files/image_thumb192.png" width="643" height="75"></a></p>
<p>Управляющая посылка <strong>чтения данных</strong> (Control Read). Используется для чтения конфигурации устройства (так называемых <em>дескрипторов</em>). Начинается с передачи SETUP, после чего следует ряд транзакций IN, в которых содержатся данные. По окончанию хост посылает транзакцию OUT с пустым пакетом данных, что является подтверждением приема посылки:</p>
<p><a href="http://mycontroller.ru/old_site/wp-content/uploads/image192.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: block; float: none; margin-left: auto; border-top: 0px; margin-right: auto; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="./STM32 USB Немного теории_files/image_thumb193.png" width="643" height="75"></a> Управляющая посылка <strong>без данных</strong> (No-data Control). Состоит всего из двух транзакций: SETUP и IN, которая подтверждает успешное завершение операции:</p>
<p><a href="http://mycontroller.ru/old_site/wp-content/uploads/image193.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: block; float: none; margin-left: auto; border-top: 0px; margin-right: auto; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="./STM32 USB Немного теории_files/image_thumb194.png" width="643" height="75"></a></p>
<p><u>Посылки для передачи данных</u></p>
<p>Собственно ради этих посылок и создан весь интерфейс. В них передается полезная информация от хоста к устройству и обратно. Существует три вида посылок передачи данных: передача массива данных, передача по прерываниям и изохронная передача. Они предполагают передачу как от хоста к устройству (транзакции OUT), так и обратно (IN).</p>
<p>Передача массивов данных и изохронная передача используется только в полноскоростных устройствах.</p>
<p>Изохронная передача в отличии от других не требует подтверждения принятых данных.</p>
<hr>
<p>На этом закончу обзор интерфейса USB. Думаю, что этих данных достаточно для первого старта. Остальную информацию обсудим по ходу рассмотрения практического использования USB. Если кто хочет копнуть глубже, можно почитать книги Агурова (их две). Также на <em>понятном</em> языке данная тема обсуждается <a href="http://mycontroller.ru/baton.wallst.ru/USB2.php">здесь</a>.</p>
<p>Прежде чем перейти к практике, необходимо обсудить еще одну тему – дескрипторы. Об этом следующая статья.</p>
                  
</div>
<div class="cleared"></div>
<div class="art-PostFooterIcons art-metadata-icons">
Рубрика: <a href="http://mycontroller.ru/old_site/category/mikrokontrolleryi-stm32/usb/default.htm" title="Просмотреть все записи в рубрике «USB»" rel="category tag">USB</a>, <a href="http://mycontroller.ru/old_site/category/mikrokontrolleryi-stm32/default.htm" title="Просмотреть все записи в рубрике «МИКРОКОНТРОЛЛЕРЫ STM32»" rel="category tag">МИКРОКОНТРОЛЛЕРЫ STM32</a>
</div>

</div>

		<div class="cleared"></div>
    </div>
</div>


<!-- You can start editing here. -->


<div class="art-Post">
    <div class="art-Post-tl"></div>
    <div class="art-Post-tr"></div>
    <div class="art-Post-bl"></div>
    <div class="art-Post-br"></div>
    <div class="art-Post-tc"></div>
    <div class="art-Post-bc"></div>
    <div class="art-Post-cl"></div>
    <div class="art-Post-cr"></div>
    <div class="art-Post-cc"></div>
    <div class="art-Post-body">
<div class="art-Post-inner art-article">

<div class="art-PostContent">

<h3 id="comments">Комментарии (13) на “STM32 USB Немного теории”</h3>



</div>
<div class="cleared"></div>


</div>

		<div class="cleared"></div>
    </div>
</div>


	<ul class="commentlist">
       <li class="comment even thread-even depth-1" id="li-comment-252">
     <div id="comment-252">
<div class="art-Post">
         <div class="art-Post-tl"></div>
         <div class="art-Post-tr"></div>
         <div class="art-Post-bl"></div>
         <div class="art-Post-br"></div>
         <div class="art-Post-tc"></div>
         <div class="art-Post-bc"></div>
         <div class="art-Post-cl"></div>
         <div class="art-Post-cr"></div>
         <div class="art-Post-cc"></div>
         <div class="art-Post-body">
     <div class="art-Post-inner art-article">
     
<div class="art-PostContent">
     
      <div class="comment-author vcard">
                  <cite class="fn">Chettuser:</cite>
      </div>
      
      <div class="comment-meta commentmetadata"><a href="http://mycontroller.ru/old_site/stm32-usb-nemnogo-teorii/default.htm#comment-252">22.04.2012 в 07:36</a></div>

      <p>«Тяжеловатая» книжка у Агурова. Но другой в природе нет.<br>
Предстоит ещё разобраться с комповым софтом для USB-устройств на STM32/</p>

      <div class="reply">
         <a class="comment-reply-link" href="http://mycontroller.ru/old_site/stm32-usb-nemnogo-teorii/@replytocom=252#respond" onclick="return addComment.moveForm(&quot;comment-252&quot;, &quot;252&quot;, &quot;respond&quot;, &quot;2708&quot;)">Ответить</a>      </div>

      </div>
      <div class="cleared"></div>
      

      </div>
      
      		<div class="cleared"></div>
          </div>
      </div>
      
     </div>
<ul class="children">
   <li class="comment byuser comment-author-admin bypostauthor odd alt depth-2" id="li-comment-253">
     <div id="comment-253">
<div class="art-Post">
         <div class="art-Post-tl"></div>
         <div class="art-Post-tr"></div>
         <div class="art-Post-bl"></div>
         <div class="art-Post-br"></div>
         <div class="art-Post-tc"></div>
         <div class="art-Post-bc"></div>
         <div class="art-Post-cl"></div>
         <div class="art-Post-cr"></div>
         <div class="art-Post-cc"></div>
         <div class="art-Post-body">
     <div class="art-Post-inner art-article">
     
<div class="art-PostContent">
     
      <div class="comment-author vcard">
                  <cite class="fn">kontroller:</cite>
      </div>
      
      <div class="comment-meta commentmetadata"><a href="http://mycontroller.ru/old_site/stm32-usb-nemnogo-teorii/default.htm#comment-253">22.04.2012 в 12:02</a></div>

      <p>Согласен, поэтому пытаюсь выделить самое необходимое, достаточное для запуска USB на STM32</p>

      <div class="reply">
         <a class="comment-reply-link" href="http://mycontroller.ru/old_site/stm32-usb-nemnogo-teorii/@replytocom=253#respond" onclick="return addComment.moveForm(&quot;comment-253&quot;, &quot;253&quot;, &quot;respond&quot;, &quot;2708&quot;)">Ответить</a>      </div>

      </div>
      <div class="cleared"></div>
      

      </div>
      
      		<div class="cleared"></div>
          </div>
      </div>
      
     </div>
<ul class="children">
   <li class="comment even depth-3" id="li-comment-2263">
     <div id="comment-2263">
<div class="art-Post">
         <div class="art-Post-tl"></div>
         <div class="art-Post-tr"></div>
         <div class="art-Post-bl"></div>
         <div class="art-Post-br"></div>
         <div class="art-Post-tc"></div>
         <div class="art-Post-bc"></div>
         <div class="art-Post-cl"></div>
         <div class="art-Post-cr"></div>
         <div class="art-Post-cc"></div>
         <div class="art-Post-body">
     <div class="art-Post-inner art-article">
     
<div class="art-PostContent">
     
      <div class="comment-author vcard">
                  <cite class="fn">Андрей:</cite>
      </div>
      
      <div class="comment-meta commentmetadata"><a href="http://mycontroller.ru/old_site/stm32-usb-nemnogo-teorii/default.htm#comment-2263">26.11.2012 в 20:49</a></div>

      <p>Привет всем любителям и профессионалам!Очень прошу поделиться своими проектами, связанными с настройкой и использование такой стандартной переферии как CAN шина в STM32f103!Буду очень благодарен!А то ни тут, ни в инете, ни даже в примерах с сайта ST ничего не разобрать, желательно рабочие….очень надо!</p>

      <div class="reply">
         <a class="comment-reply-link" href="http://mycontroller.ru/old_site/stm32-usb-nemnogo-teorii/@replytocom=2263#respond" onclick="return addComment.moveForm(&quot;comment-2263&quot;, &quot;2263&quot;, &quot;respond&quot;, &quot;2708&quot;)">Ответить</a>      </div>

      </div>
      <div class="cleared"></div>
      

      </div>
      
      		<div class="cleared"></div>
          </div>
      </div>
      
     </div>
<ul class="children">
   <li class="comment odd alt depth-4" id="li-comment-2264">
     <div id="comment-2264">
<div class="art-Post">
         <div class="art-Post-tl"></div>
         <div class="art-Post-tr"></div>
         <div class="art-Post-bl"></div>
         <div class="art-Post-br"></div>
         <div class="art-Post-tc"></div>
         <div class="art-Post-bc"></div>
         <div class="art-Post-cl"></div>
         <div class="art-Post-cr"></div>
         <div class="art-Post-cc"></div>
         <div class="art-Post-body">
     <div class="art-Post-inner art-article">
     
<div class="art-PostContent">
     
      <div class="comment-author vcard">
                  <cite class="fn">Андрей:</cite>
      </div>
      
      <div class="comment-meta commentmetadata"><a href="http://mycontroller.ru/old_site/stm32-usb-nemnogo-teorii/default.htm#comment-2264">26.11.2012 в 20:50</a></div>

      <p>ах, да, если удобно, то на почту <a href="mailto:andry-i@mail.ru">andry-i@mail.ru</a>, спасибо!</p>

      <div class="reply">
         <a class="comment-reply-link" href="http://mycontroller.ru/old_site/stm32-usb-nemnogo-teorii/@replytocom=2264#respond" onclick="return addComment.moveForm(&quot;comment-2264&quot;, &quot;2264&quot;, &quot;respond&quot;, &quot;2708&quot;)">Ответить</a>      </div>

      </div>
      <div class="cleared"></div>
      

      </div>
      
      		<div class="cleared"></div>
          </div>
      </div>
      
     </div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
   <li class="comment even thread-odd thread-alt depth-1" id="li-comment-395">
     <div id="comment-395">
<div class="art-Post">
         <div class="art-Post-tl"></div>
         <div class="art-Post-tr"></div>
         <div class="art-Post-bl"></div>
         <div class="art-Post-br"></div>
         <div class="art-Post-tc"></div>
         <div class="art-Post-bc"></div>
         <div class="art-Post-cl"></div>
         <div class="art-Post-cr"></div>
         <div class="art-Post-cc"></div>
         <div class="art-Post-body">
     <div class="art-Post-inner art-article">
     
<div class="art-PostContent">
     
      <div class="comment-author vcard">
                  <cite class="fn">Аноним:</cite>
      </div>
      
      <div class="comment-meta commentmetadata"><a href="http://mycontroller.ru/old_site/stm32-usb-nemnogo-teorii/default.htm#comment-395">12.05.2012 в 19:34</a></div>

      <p>Кажется ещё какая то статейка была по USB… Куда делась? Или мне показалось?</p>

      <div class="reply">
         <a class="comment-reply-link" href="http://mycontroller.ru/old_site/stm32-usb-nemnogo-teorii/@replytocom=395#respond" onclick="return addComment.moveForm(&quot;comment-395&quot;, &quot;395&quot;, &quot;respond&quot;, &quot;2708&quot;)">Ответить</a>      </div>

      </div>
      <div class="cleared"></div>
      

      </div>
      
      		<div class="cleared"></div>
          </div>
      </div>
      
     </div>
<ul class="children">
   <li class="comment byuser comment-author-admin bypostauthor odd alt depth-2" id="li-comment-396">
     <div id="comment-396">
<div class="art-Post">
         <div class="art-Post-tl"></div>
         <div class="art-Post-tr"></div>
         <div class="art-Post-bl"></div>
         <div class="art-Post-br"></div>
         <div class="art-Post-tc"></div>
         <div class="art-Post-bc"></div>
         <div class="art-Post-cl"></div>
         <div class="art-Post-cr"></div>
         <div class="art-Post-cc"></div>
         <div class="art-Post-body">
     <div class="art-Post-inner art-article">
     
<div class="art-PostContent">
     
      <div class="comment-author vcard">
                  <cite class="fn">kontroller:</cite>
      </div>
      
      <div class="comment-meta commentmetadata"><a href="http://mycontroller.ru/old_site/stm32-usb-nemnogo-teorii/default.htm#comment-396">12.05.2012 в 19:43</a></div>

      <p>Нет, не показалась.<br>
Она была и скоро будет, но уже законченная</p>

      <div class="reply">
         <a class="comment-reply-link" href="http://mycontroller.ru/old_site/stm32-usb-nemnogo-teorii/@replytocom=396#respond" onclick="return addComment.moveForm(&quot;comment-396&quot;, &quot;396&quot;, &quot;respond&quot;, &quot;2708&quot;)">Ответить</a>      </div>

      </div>
      <div class="cleared"></div>
      

      </div>
      
      		<div class="cleared"></div>
          </div>
      </div>
      
     </div>
<ul class="children">
   <li class="comment even depth-3" id="li-comment-2479">
     <div id="comment-2479">
<div class="art-Post">
         <div class="art-Post-tl"></div>
         <div class="art-Post-tr"></div>
         <div class="art-Post-bl"></div>
         <div class="art-Post-br"></div>
         <div class="art-Post-tc"></div>
         <div class="art-Post-bc"></div>
         <div class="art-Post-cl"></div>
         <div class="art-Post-cr"></div>
         <div class="art-Post-cc"></div>
         <div class="art-Post-body">
     <div class="art-Post-inner art-article">
     
<div class="art-PostContent">
     
      <div class="comment-author vcard">
                  <cite class="fn">Vail:</cite>
      </div>
      
      <div class="comment-meta commentmetadata"><a href="http://mycontroller.ru/old_site/stm32-usb-nemnogo-teorii/default.htm#comment-2479">16.12.2012 в 14:25</a></div>

      <p>И когда же это скоро…</p>

      <div class="reply">
         <a class="comment-reply-link" href="http://mycontroller.ru/old_site/stm32-usb-nemnogo-teorii/@replytocom=2479#respond" onclick="return addComment.moveForm(&quot;comment-2479&quot;, &quot;2479&quot;, &quot;respond&quot;, &quot;2708&quot;)">Ответить</a>      </div>

      </div>
      <div class="cleared"></div>
      

      </div>
      
      		<div class="cleared"></div>
          </div>
      </div>
      
     </div>
<ul class="children">
   <li class="comment odd alt depth-4" id="li-comment-2499">
     <div id="comment-2499">
<div class="art-Post">
         <div class="art-Post-tl"></div>
         <div class="art-Post-tr"></div>
         <div class="art-Post-bl"></div>
         <div class="art-Post-br"></div>
         <div class="art-Post-tc"></div>
         <div class="art-Post-bc"></div>
         <div class="art-Post-cl"></div>
         <div class="art-Post-cr"></div>
         <div class="art-Post-cc"></div>
         <div class="art-Post-body">
     <div class="art-Post-inner art-article">
     
<div class="art-PostContent">
     
      <div class="comment-author vcard">
                  <cite class="fn">Victor:</cite>
      </div>
      
      <div class="comment-meta commentmetadata"><a href="http://mycontroller.ru/old_site/stm32-usb-nemnogo-teorii/default.htm#comment-2499">26.12.2012 в 14:26</a></div>

      <p>Да, очень ждем статей по USB.</p>

      <div class="reply">
         <a class="comment-reply-link" href="http://mycontroller.ru/old_site/stm32-usb-nemnogo-teorii/@replytocom=2499#respond" onclick="return addComment.moveForm(&quot;comment-2499&quot;, &quot;2499&quot;, &quot;respond&quot;, &quot;2708&quot;)">Ответить</a>      </div>

      </div>
      <div class="cleared"></div>
      

      </div>
      
      		<div class="cleared"></div>
          </div>
      </div>
      
     </div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
   <li class="comment even thread-even depth-1" id="li-comment-482">
     <div id="comment-482">
<div class="art-Post">
         <div class="art-Post-tl"></div>
         <div class="art-Post-tr"></div>
         <div class="art-Post-bl"></div>
         <div class="art-Post-br"></div>
         <div class="art-Post-tc"></div>
         <div class="art-Post-bc"></div>
         <div class="art-Post-cl"></div>
         <div class="art-Post-cr"></div>
         <div class="art-Post-cc"></div>
         <div class="art-Post-body">
     <div class="art-Post-inner art-article">
     
<div class="art-PostContent">
     
      <div class="comment-author vcard">
                  <cite class="fn"><a href="http://mycontroller.ru/bygor.com/default.htm" rel="external nofollow" class="url">Aron1987</a>:</cite>
      </div>
      
      <div class="comment-meta commentmetadata"><a href="http://mycontroller.ru/old_site/stm32-usb-nemnogo-teorii/default.htm#comment-482">10.06.2012 в 17:05</a></div>

      <p>спасибо за инфу — тока mycontroller.ru почему то у меня медленно грузится — что может быть не так?,<br>
кстати может кому надо клевый фотик <a href="http://mycontroller.ru/bygor.com/default.htm" rel="nofollow">Sony Cyber-shot DSC-HX200V</a> кроме того. рекомендую купить еще <a href="http://mycontroller.ru/bygor.com/default.htm" rel="nofollow">Sony Cyber-shot DSC-W670</a> по доступной цене, производство Япония</p>

      <div class="reply">
         <a class="comment-reply-link" href="http://mycontroller.ru/old_site/stm32-usb-nemnogo-teorii/@replytocom=482#respond" onclick="return addComment.moveForm(&quot;comment-482&quot;, &quot;482&quot;, &quot;respond&quot;, &quot;2708&quot;)">Ответить</a>      </div>

      </div>
      <div class="cleared"></div>
      

      </div>
      
      		<div class="cleared"></div>
          </div>
      </div>
      
     </div>
</li>
   <li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1101">
     <div id="comment-1101">
<div class="art-Post">
         <div class="art-Post-tl"></div>
         <div class="art-Post-tr"></div>
         <div class="art-Post-bl"></div>
         <div class="art-Post-br"></div>
         <div class="art-Post-tc"></div>
         <div class="art-Post-bc"></div>
         <div class="art-Post-cl"></div>
         <div class="art-Post-cr"></div>
         <div class="art-Post-cc"></div>
         <div class="art-Post-body">
     <div class="art-Post-inner art-article">
     
<div class="art-PostContent">
     
      <div class="comment-author vcard">
                  <cite class="fn">nzet:</cite>
      </div>
      
      <div class="comment-meta commentmetadata"><a href="http://mycontroller.ru/old_site/stm32-usb-nemnogo-teorii/default.htm#comment-1101">09.09.2012 в 10:12</a></div>

      <p>Добросовестные создатели USB конечно парни трудяги, но<br>
650 страниц подробно описанных сегментов протокола как в сказке про журавля и лисицу.<br>
Кстати предоставленные библиотеки STM видимо только для занимательных экспериментов!<br>
В моем проекте, даже на ядре STM32L152RB это через чур много и неудобно.<br>
И мне как товарищу свежему в освоении терний USB эта статейка ну прямо в десятку!<br>
Спасибо за ваш труд!</p>

      <div class="reply">
         <a class="comment-reply-link" href="http://mycontroller.ru/old_site/stm32-usb-nemnogo-teorii/@replytocom=1101#respond" onclick="return addComment.moveForm(&quot;comment-1101&quot;, &quot;1101&quot;, &quot;respond&quot;, &quot;2708&quot;)">Ответить</a>      </div>

      </div>
      <div class="cleared"></div>
      

      </div>
      
      		<div class="cleared"></div>
          </div>
      </div>
      
     </div>
</li>
   <li class="comment even thread-even depth-1" id="li-comment-1480">
     <div id="comment-1480">
<div class="art-Post">
         <div class="art-Post-tl"></div>
         <div class="art-Post-tr"></div>
         <div class="art-Post-bl"></div>
         <div class="art-Post-br"></div>
         <div class="art-Post-tc"></div>
         <div class="art-Post-bc"></div>
         <div class="art-Post-cl"></div>
         <div class="art-Post-cr"></div>
         <div class="art-Post-cc"></div>
         <div class="art-Post-body">
     <div class="art-Post-inner art-article">
     
<div class="art-PostContent">
     
      <div class="comment-author vcard">
                  <cite class="fn"><a href="http://mycontroller.ru/gmail.com/default.htm" rel="external nofollow" class="url">Malik.5</a>:</cite>
      </div>
      
      <div class="comment-meta commentmetadata"><a href="http://mycontroller.ru/old_site/stm32-usb-nemnogo-teorii/default.htm#comment-1480">13.10.2012 в 23:27</a></div>

      <p>Мне очень нравится шаблон сайта mycontroller.ru</p>

      <div class="reply">
         <a class="comment-reply-link" href="http://mycontroller.ru/old_site/stm32-usb-nemnogo-teorii/@replytocom=1480#respond" onclick="return addComment.moveForm(&quot;comment-1480&quot;, &quot;1480&quot;, &quot;respond&quot;, &quot;2708&quot;)">Ответить</a>      </div>

      </div>
      <div class="cleared"></div>
      

      </div>
      
      		<div class="cleared"></div>
          </div>
      </div>
      
     </div>
</li>
   <li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1964">
     <div id="comment-1964">
<div class="art-Post">
         <div class="art-Post-tl"></div>
         <div class="art-Post-tr"></div>
         <div class="art-Post-bl"></div>
         <div class="art-Post-br"></div>
         <div class="art-Post-tc"></div>
         <div class="art-Post-bc"></div>
         <div class="art-Post-cl"></div>
         <div class="art-Post-cr"></div>
         <div class="art-Post-cc"></div>
         <div class="art-Post-body">
     <div class="art-Post-inner art-article">
     
<div class="art-PostContent">
     
      <div class="comment-author vcard">
                  <cite class="fn">Кирилл:</cite>
      </div>
      
      <div class="comment-meta commentmetadata"><a href="http://mycontroller.ru/old_site/stm32-usb-nemnogo-teorii/default.htm#comment-1964">31.10.2012 в 17:51</a></div>

      <p>ребят, а пример программы для общения по USB есть? а то самому как то вообще не разобраться, с инициализацией регистров и тд…</p>

      <div class="reply">
         <a class="comment-reply-link" href="http://mycontroller.ru/old_site/stm32-usb-nemnogo-teorii/@replytocom=1964#respond" onclick="return addComment.moveForm(&quot;comment-1964&quot;, &quot;1964&quot;, &quot;respond&quot;, &quot;2708&quot;)">Ответить</a>      </div>

      </div>
      <div class="cleared"></div>
      

      </div>
      
      		<div class="cleared"></div>
          </div>
      </div>
      
     </div>
</li>
   <li class="comment even thread-even depth-1" id="li-comment-2246">
     <div id="comment-2246">
<div class="art-Post">
         <div class="art-Post-tl"></div>
         <div class="art-Post-tr"></div>
         <div class="art-Post-bl"></div>
         <div class="art-Post-br"></div>
         <div class="art-Post-tc"></div>
         <div class="art-Post-bc"></div>
         <div class="art-Post-cl"></div>
         <div class="art-Post-cr"></div>
         <div class="art-Post-cc"></div>
         <div class="art-Post-body">
     <div class="art-Post-inner art-article">
     
<div class="art-PostContent">
     
      <div class="comment-author vcard">
                  <cite class="fn"><a href="http://mycontroller.ru/progfromdelphi.com/default.htm" rel="external nofollow" class="url">samsimon21</a>:</cite>
      </div>
      
      <div class="comment-meta commentmetadata"><a href="http://mycontroller.ru/old_site/stm32-usb-nemnogo-teorii/default.htm#comment-2246">18.11.2012 в 17:06</a></div>

      <p>Управление таким интерфейсом конечно же дело не с легких, но нужно этому когда то учиться.</p>

      <div class="reply">
         <a class="comment-reply-link" href="http://mycontroller.ru/old_site/stm32-usb-nemnogo-teorii/@replytocom=2246#respond" onclick="return addComment.moveForm(&quot;comment-2246&quot;, &quot;2246&quot;, &quot;respond&quot;, &quot;2708&quot;)">Ответить</a>      </div>

      </div>
      <div class="cleared"></div>
      

      </div>
      
      		<div class="cleared"></div>
          </div>
      </div>
      
     </div>
</li>
  </ul>


 

<div class="art-Post">
    <div class="art-Post-tl"></div>
    <div class="art-Post-tr"></div>
    <div class="art-Post-bl"></div>
    <div class="art-Post-br"></div>
    <div class="art-Post-tc"></div>
    <div class="art-Post-bc"></div>
    <div class="art-Post-cl"></div>
    <div class="art-Post-cr"></div>
    <div class="art-Post-cc"></div>
    <div class="art-Post-body">
<div class="art-Post-inner art-article">

<div class="art-PostContent">

<div id="respond">
  
  <h3>Оставить комментарий</h3>

<div class="cancel-comment-reply">
	<small><a rel="nofollow" id="cancel-comment-reply-link" href="http://mycontroller.ru/old_site/stm32-usb-nemnogo-teorii/default.htm#respond" style="display:none;">Нажмите, чтобы отменить ответ.</a></small>
</div>


<form action="http://mycontroller.ru/old_site/wp-comments-post.php" method="post" id="commentform">


<p><input type="text" name="author" id="author" value="" size="22" tabindex="1">
<label for="author"><small>Имя </small></label></p>

<p><input type="text" name="email" id="email" value="" size="22" tabindex="2">
<label for="email"><small>E-mail (не публикуется) </small></label></p>

<p><input type="text" name="url" id="url" value="" size="22" tabindex="3">
<label for="url"><small>Web-сайт</small></label></p>


<!--<p><small><strong>XHTML:</strong> Вы можете использовать эту разметку: <code>&lt;a href=&quot;&quot; title=&quot;&quot;&gt; &lt;abbr title=&quot;&quot;&gt; &lt;acronym title=&quot;&quot;&gt; &lt;b&gt; &lt;blockquote cite=&quot;&quot;&gt; &lt;cite&gt; &lt;code lang=&quot;&quot;&gt; &lt;del datetime=&quot;&quot;&gt; &lt;em&gt; &lt;i&gt; &lt;q cite=&quot;&quot;&gt; &lt;strike&gt; &lt;strong&gt; &lt;pre lang=&quot;&quot; extra=&quot;&quot;&gt; </code></small></p>-->

<p><textarea name="comment" id="comment" cols="100%" rows="10" tabindex="4"></textarea></p>

<p>
	<span class="art-button-wrapper">
		<span class="l"> </span>
		<span class="r"> </span>
		<input class="art-button" type="submit" name="submit" tabindex="5" value="Отправить">
	</span>
<input type="hidden" name="comment_post_ID" value="2708" id="comment_post_ID">
<input type="hidden" name="comment_parent" id="comment_parent" value="0">
</p>
	<script type="text/javascript">
	<!--
	refJS = escape( document[ 'referrer' ] );
	document.write("<input type='hidden' name='refJS' value='"+refJS+"'>");
	// -->
	</script><input type="hidden" name="refJS" value="http%3A//mycontroller.ru/old_site/stm32-usb-vvedenie/default.htm">
	<p style="font-size:9px;clear:both;">Spam Protection by <a href="http://mycontroller.ru/www.polepositionmarketing.com/library/wp-spamfree/default.htm" title="WP-SpamFree WordPress Anti-Spam Plugin">WP-SpamFree</a></p>

</form>

</div>

</div>
<div class="cleared"></div>


</div>

		<div class="cleared"></div>
    </div>
</div>


</div>
<div class="art-sidebar1">      
<div id="mycategoryorder-2" class="widget widget_mycategoryorder"><div class="art-Block">
    <div class="art-Block-body">
<div class="art-BlockHeader">
    <div class="l"></div>
    <div class="r"></div>
    <div class="art-header-tag-icon">
        <div class="t">Рубрики</div>
    </div>
</div><div class="art-BlockContent">
    <div class="art-BlockContent-tl"></div>
    <div class="art-BlockContent-tr"></div>
    <div class="art-BlockContent-bl"></div>
    <div class="art-BlockContent-br"></div>
    <div class="art-BlockContent-tc"></div>
    <div class="art-BlockContent-bc"></div>
    <div class="art-BlockContent-cl"></div>
    <div class="art-BlockContent-cr"></div>
    <div class="art-BlockContent-cc"></div>
    <div class="art-BlockContent-body">
		<ul>
			<li class="cat-item cat-item-3"><a href="http://mycontroller.ru/old_site/category/mikrokontrolleryi-stm32/default.htm" title="Просмотреть все записи в рубрике «МИКРОКОНТРОЛЛЕРЫ STM32»">МИКРОКОНТРОЛЛЕРЫ STM32</a>
<ul class="children">
	<li class="cat-item cat-item-7"><a href="http://mycontroller.ru/old_site/category/mikrokontrolleryi-stm32/bootloader/default.htm" title="Просмотреть все записи в рубрике «Bootloader»">Bootloader</a>
</li>
	<li class="cat-item cat-item-14"><a href="http://mycontroller.ru/old_site/category/mikrokontrolleryi-stm32/portyi-vvoda-vyivoda/default.htm" title="Просмотреть все записи в рубрике «GPIO»">GPIO</a>
</li>
	<li class="cat-item cat-item-4"><a href="http://mycontroller.ru/old_site/category/mikrokontrolleryi-stm32/usart/default.htm" title="Просмотреть все записи в рубрике «USART»">USART</a>
</li>
	<li class="cat-item cat-item-5"><a href="http://mycontroller.ru/old_site/category/mikrokontrolleryi-stm32/dma/default.htm" title="Просмотреть все записи в рубрике «DMA»">DMA</a>
</li>
	<li class="cat-item cat-item-15"><a href="http://mycontroller.ru/old_site/category/mikrokontrolleryi-stm32/bkp-registryi/default.htm" title="Просмотреть все записи в рубрике «BKP»">BKP</a>
</li>
	<li class="cat-item cat-item-8"><a href="http://mycontroller.ru/old_site/category/mikrokontrolleryi-stm32/rtc/default.htm" title="Просмотреть все записи в рубрике «RTC»">RTC</a>
</li>
	<li class="cat-item cat-item-16"><a href="http://mycontroller.ru/old_site/category/mikrokontrolleryi-stm32/timer/default.htm" title="Просмотреть все записи в рубрике «TIMER»">TIMER</a>
</li>
	<li class="cat-item cat-item-21"><a href="http://mycontroller.ru/old_site/category/mikrokontrolleryi-stm32/spi/default.htm" title="Просмотреть все записи в рубрике «SPI»">SPI</a>
</li>
	<li class="cat-item cat-item-24"><a href="http://mycontroller.ru/old_site/category/mikrokontrolleryi-stm32/adc/default.htm" title="Просмотреть все записи в рубрике «ADC»">ADC</a>
</li>
	<li class="cat-item cat-item-25"><a href="http://mycontroller.ru/old_site/category/mikrokontrolleryi-stm32/dac/default.htm" title="Просмотреть все записи в рубрике «DAC»">DAC</a>
</li>
	<li class="cat-item cat-item-26"><a href="http://mycontroller.ru/old_site/category/mikrokontrolleryi-stm32/usb/default.htm" title="Просмотреть все записи в рубрике «USB»">USB</a>
</li>
</ul>
</li>
	<li class="cat-item cat-item-19"><a href="http://mycontroller.ru/old_site/category/vneshnie-ustroystva/default.htm" title="Просмотреть все записи в рубрике «ВНЕШНИЕ УСТРОЙСТВА»">ВНЕШНИЕ УСТРОЙСТВА</a>
<ul class="children">
	<li class="cat-item cat-item-23"><a href="http://mycontroller.ru/old_site/category/vneshnie-ustroystva/termodatchik-ds18b20/default.htm" title="Просмотреть все записи в рубрике «Термодатчик ds18b20»">Термодатчик ds18b20</a>
</li>
	<li class="cat-item cat-item-29"><a href="http://mycontroller.ru/old_site/category/vneshnie-ustroystva/enkoder/default.htm" title="Просмотреть все записи в рубрике «Энкодер»">Энкодер</a>
</li>
	<li class="cat-item cat-item-20"><a href="http://mycontroller.ru/old_site/category/vneshnie-ustroystva/karta-pamyati-sd/default.htm" title="Просмотреть все записи в рубрике «Карта памяти SD»">Карта памяти SD</a>
	<ul class="children">
	<li class="cat-item cat-item-31"><a href="http://mycontroller.ru/old_site/category/vneshnie-ustroystva/karta-pamyati-sd/rabota-s-ffatfs/default.htm" title="Просмотреть все записи в рубрике «Работа с FatFs»">Работа с FatFs</a>
</li>
	</ul>
</li>
</ul>
</li>
	<li class="cat-item cat-item-1"><a href="http://mycontroller.ru/old_site/category/bez-rubriki/default.htm" title="Просмотреть все записи в рубрике «МОИ ПРОЕКТЫ»">МОИ ПРОЕКТЫ</a>
<ul class="children">
	<li class="cat-item cat-item-6"><a href="http://mycontroller.ru/old_site/category/bez-rubriki/chasyi-na-stm32f100rb/default.htm" title="Просмотреть все записи в рубрике «Часы на STM32F100RB»">Часы на STM32F100RB</a>
</li>
	<li class="cat-item cat-item-28"><a href="http://mycontroller.ru/old_site/category/bez-rubriki/umnyiy-dom/default.htm" title="Просмотреть все записи в рубрике «Умный Дом»">Умный Дом</a>
</li>
	<li class="cat-item cat-item-30"><a href="http://mycontroller.ru/old_site/category/bez-rubriki/waveplayer/default.htm" title="Просмотреть все записи в рубрике «WavePlayer»">WavePlayer</a>
</li>
	<li class="cat-item cat-item-32"><a href="http://mycontroller.ru/old_site/category/bez-rubriki/sintezator-eliza/default.htm" title="Просмотреть все записи в рубрике «Синтезатор &quot;Элиза&quot;»">Синтезатор "Элиза"</a>
</li>
</ul>
</li>
	<li class="cat-item cat-item-10"><a href="http://mycontroller.ru/old_site/category/poleznyiy-soft/default.htm" title="Просмотреть все записи в рубрике «ПОЛЕЗНЫЙ СОФТ»">ПОЛЕЗНЫЙ СОФТ</a>
<ul class="children">
	<li class="cat-item cat-item-11"><a href="http://mycontroller.ru/old_site/category/poleznyiy-soft/stm32-generator-koda/default.htm" title="Просмотреть все записи в рубрике «STM32 генератор»">STM32 генератор</a>
</li>
</ul>
</li>
		</ul>
		
		<div class="cleared"></div>
    </div>
</div>

		<div class="cleared"></div>
    </div>
</div>
</div>		<div id="recent-posts-2" class="widget widget_recent_entries"><div class="art-Block">
    <div class="art-Block-body">
		<div class="art-BlockHeader">
    <div class="l"></div>
    <div class="r"></div>
    <div class="art-header-tag-icon">
        <div class="t">Свежие записи</div>
    </div>
</div><div class="art-BlockContent">
    <div class="art-BlockContent-tl"></div>
    <div class="art-BlockContent-tr"></div>
    <div class="art-BlockContent-bl"></div>
    <div class="art-BlockContent-br"></div>
    <div class="art-BlockContent-tc"></div>
    <div class="art-BlockContent-bc"></div>
    <div class="art-BlockContent-cl"></div>
    <div class="art-BlockContent-cr"></div>
    <div class="art-BlockContent-cc"></div>
    <div class="art-BlockContent-body">
		<ul>
				<li><a href="http://mycontroller.ru/old_site/stm32-interfeys-i2c-opisanie/default.htm" title="STM32 Интерфейс I2C. Описание">STM32 Интерфейс I2C. Описание</a></li>
				<li><a href="http://mycontroller.ru/old_site/stm32-sintezator-rechi-ldquo-eliza-rdquo-prodolzhenie/default.htm" title="STM32 Синтезатор речи “Элиза”. Продолжение">STM32 Синтезатор речи “Элиза”. Продолжение</a></li>
				<li><a href="http://mycontroller.ru/old_site/stm32-sintezator-rechi-ldquo-eliza-rdquo/default.htm" title="STM32 Синтезатор речи “Элиза”">STM32 Синтезатор речи “Элиза”</a></li>
				<li><a href="http://mycontroller.ru/old_site/stm32-generator-koda-novaya-versiya/default.htm" title="STM32 Генератор кода. Новая версия">STM32 Генератор кода. Новая версия</a></li>
				<li><a href="http://mycontroller.ru/old_site/stm32-generator-koda-konstruktor-komponentov/default.htm" title="STM32 “Конструктор компонентов” для “Генератора кода”">STM32 “Конструктор компонентов” для “Генератора кода”</a></li>
				</ul>
		
		<div class="cleared"></div>
    </div>
</div>

		<div class="cleared"></div>
    </div>
</div>
</div><div id="text-5" class="widget widget_text"><div class="art-Block">
    <div class="art-Block-body">
<div class="art-BlockHeader">
    <div class="l"></div>
    <div class="r"></div>
    <div class="art-header-tag-icon">
        <div class="t">Немного рекламы</div>
    </div>
</div><div class="art-BlockContent">
    <div class="art-BlockContent-tl"></div>
    <div class="art-BlockContent-tr"></div>
    <div class="art-BlockContent-bl"></div>
    <div class="art-BlockContent-br"></div>
    <div class="art-BlockContent-tc"></div>
    <div class="art-BlockContent-bc"></div>
    <div class="art-BlockContent-cl"></div>
    <div class="art-BlockContent-cr"></div>
    <div class="art-BlockContent-cc"></div>
    <div class="art-BlockContent-body">
			<div class="textwidget"><script type="text/javascript"><!--
google_ad_client = "ca-pub-6213925206017237";
/* second */
google_ad_slot = "7273021636";
google_ad_width = 200;
google_ad_height = 200;
//-->
</script>
<acript type="text/javascript" src="../../pagead2.googlesyndication.com/pagead/show_ads.js">
</acript></div>
		
		<div class="cleared"></div>
    </div>
</div>

		<div class="cleared"></div>
    </div>
</div>
</div><div id="linkcat-2" class="widget widget_links"><div class="art-Block">
    <div class="art-Block-body">
<div class="art-BlockHeader">
    <div class="l"></div>
    <div class="r"></div>
    <div class="art-header-tag-icon">
        <div class="t">Ссылки</div>
    </div>
</div><div class="art-BlockContent">
    <div class="art-BlockContent-tl"></div>
    <div class="art-BlockContent-tr"></div>
    <div class="art-BlockContent-bl"></div>
    <div class="art-BlockContent-br"></div>
    <div class="art-BlockContent-tc"></div>
    <div class="art-BlockContent-bc"></div>
    <div class="art-BlockContent-cl"></div>
    <div class="art-BlockContent-cr"></div>
    <div class="art-BlockContent-cc"></div>
    <div class="art-BlockContent-body">

	<ul class="xoxo blogroll">
<li><a href="http://mycontroller.ru/old_site/forum">Форум сайта</a></li>

	</ul>

		<div class="cleared"></div>
    </div>
</div>

		<div class="cleared"></div>
    </div>
</div>
</div>


<p align="center">

</p>

</div>
</div>
<div class="cleared"></div>




<div class="art-Footer">
    <div class="art-Footer-inner">
                <div class="art-Footer-text">
<p>
<a href="http://mycontroller.ru/old_site/stm32-usb-nemnogo-teorii/default.htm#">Contact Us</a> | <a href="http://mycontroller.ru/old_site/stm32-usb-nemnogo-teorii/default.htm#">Terms of Use</a> | <a href="http://mycontroller.ru/old_site/stm32-usb-nemnogo-teorii/default.htm#">Trademarks</a> | <a href="http://mycontroller.ru/old_site/stm32-usb-nemnogo-teorii/default.htm#">Privacy Statement</a><br>Copyright © 2009 My Controller. All Rights Reserved.</p>
</div>
    </div>
    <div class="art-Footer-background">
    </div>
</div>

		<div class="cleared"></div>
    </div>
</div>
<div class="cleared"></div>

</div>

<!-- 25 запросов. 0,313 секунд. -->
<div>
<!-- SyntaxHighlighter Stuff -->
<script type="text/javascript" src="./STM32 USB Немного теории_files/shCore.js.Без названия"></script>
<script type="text/javascript">
	SyntaxHighlighter.all();
</script>

</div>


</body></html>