<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0076)http://mycontroller.ru/old_site/stm32-dac-primeryi-ispolzovaniya/default.htm -->
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="ru-RU" class="chrome  win"><head profile="http://gmpg.org/xfn/11"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7">
<title>STM32 DAC Примеры использования</title>
<script type="text/javascript" src="./STM32 DAC Примеры использования_files/script.js.Без названия"></script>
<link rel="stylesheet" href="./STM32 DAC Примеры использования_files/style.css" type="text/css" media="screen">
<!--[if IE 6]><link rel="stylesheet" href="../wp-content/themes/MyController/style.ie6.css" type="text/css" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="../wp-content/themes/MyController/style.ie7.css" type="text/css" media="screen" /><![endif]-->
<link rel="alternate" type="application/rss+xml" title="RSS-лента My Controller" href="http://mycontroller.ru/old_site/feed/default.htm">
<link rel="alternate" type="application/atom+xml" title="Atom-лента My Controller" href="http://mycontroller.ru/old_site/feed/atom/default.htm"> 
<link rel="pingback" href="http://mycontroller.ru/xmlrpc.php">
<link rel="alternate" type="application/rss+xml" title="My Controller » Лента комментариев к «STM32 DAC Примеры использования»" href="http://mycontroller.ru/old_site/stm32-dac-primeryi-ispolzovaniya/feed/default.htm">
<link rel="stylesheet" id="msw_wpfm_scan-css" href="./STM32 DAC Примеры использования_files/wordpress-file-monitor.php@ver=scan" type="text/css" media="all">
<link rel="stylesheet" id="bwp-syntax-css" href="./STM32 DAC Примеры использования_files/bwp-syntax.css@ver=3.3.1" type="text/css" media="all">
<link rel="stylesheet" id="wp-downloadmanager-css" href="./STM32 DAC Примеры использования_files/download-css.css@ver=1.50" type="text/css" media="all">
<link rel="stylesheet" id="wp-pagenavi-css" href="./STM32 DAC Примеры использования_files/pagenavi-css.css@ver=2.70" type="text/css" media="all">
<script type="text/javascript" src="./STM32 DAC Примеры использования_files/jquery.js@ver=1.7.1"></script>
<script type="text/javascript" src="./STM32 DAC Примеры использования_files/bwp-syntax.js@ver=3.3.1"></script>
<script type="text/javascript" src="./STM32 DAC Примеры использования_files/external-tracking.min.js@ver=6.0.2"></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://mycontroller.ru/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://mycontroller.ru/old_site/wp-includes/wlwmanifest.xml"> 
<link rel="prev" title="STM32 Воспроизведение звука. Структура WAV-файлов" href="http://mycontroller.ru/old_site/stm32-vosproizvedenie-wav-faylov/default.htm">
<link rel="next" title="STM32 Воспроизведение звука. Настройка периферии + первый звук" href="http://mycontroller.ru/old_site/stm32-vosproizvedenie-zvuka-nastroyka-dac/default.htm">
<meta name="generator" content="WordPress 3.3.1">
<link rel="canonical" href="http://mycontroller.ru/old_site/stm32-dac-primeryi-ispolzovaniya/default.htm">
<link rel="shortlink" href="http://mycontroller.ru/old_site/@p=3112">

<!-- Protected by WP-SpamFree v2.1.1.2 :: JS BEGIN -->
<script type="text/javascript" src="./STM32 DAC Примеры использования_files/wpsf-js.php"></script> 
<!-- Protected by WP-SpamFree v2.1.1.2 :: JS END -->


<link rel="stylesheet" href="./STM32 DAC Примеры использования_files/wp-syntax.css" type="text/css" media="screen">
<!-- wpSpoiler Code -->
        <script type="text/javascript">
            function wpSpoilerToggle(spoiler, link, showtext, hidetext) {
                if (spoiler.style.display != 'none') {
                    spoiler.style.display = 'none';
                    link.innerHTML = showtext;
                    link.className = 'spoiler_link_show';
                } else {
                    spoiler.style.display = 'block';
                    link.innerHTML = hidetext;
                    link.className = 'spoiler_link_hide';
                }
            }
          </script>
	<link type="text/css" rel="stylesheet" href="./STM32 DAC Примеры использования_files/shCore.css">
	<link type="text/css" rel="stylesheet" href="./STM32 DAC Примеры использования_files/shThemeDefault.css">
<!-- Google Analytics Tracking by Google Analyticator 6.0.2: http://ronaldheft.com/code/analyticator/ -->
<script type="text/javascript">window.google_analytics_uacct = "UA-29082067-1";</script>
<script type="text/javascript">
	var analyticsFileTypes = [''];
	var analyticsEventTracking = 'enabled';
</script>
<!--ipt type="text/javascript">
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-29082067-1']);
	_gaq.push(['_trackPageview']);

	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ga);
	})();
</scri-->
</head>
<body>
<div id="art-page-background-simple-gradient">
</div>
<div id="art-main">
<div class="art-Sheet">
    <div class="art-Sheet-tl"></div>
    <div class="art-Sheet-tr"></div>
    <div class="art-Sheet-bl"></div>
    <div class="art-Sheet-br"></div>
    <div class="art-Sheet-tc"></div>
    <div class="art-Sheet-bc"></div>
    <div class="art-Sheet-cl"></div>
    <div class="art-Sheet-cr"></div>
    <div class="art-Sheet-cc"></div>
    <div class="art-Sheet-body">
<div class="art-Header">
    <div class="art-Header-png"></div>
    <div class="art-Header-jpeg"></div>
<div class="art-Logo">
    <h1 id="name-text" class="art-Logo-name">
        <a href="http://mycontroller.ru/old_site/default.htm">My Controller</a></h1>
    <div id="slogan-text" class="art-Logo-text">
        Изучаем микроконтроллеры STM32</div>
</div>

</div>
<div class="art-nav">
	<div class="l"></div>
	<div class="r"></div>
	<ul class="art-menu">
		<li><a href="http://mycontroller.ru/old_site/default.htm"><span class="l"></span><span class="r"></span><span class="t">Home</span></a></li><li><span class="art-menu-separator"></span></li><li class="page_item page-item-10"><a href="http://mycontroller.ru/old_site/o-sayte/default.htm"><span class="l"></span><span class="r"></span><span class="t">О сайте</span></a></li><li><span class="art-menu-separator"></span></li>
<li class="page_item page-item-186"><a href="http://mycontroller.ru/old_site/programmyi/default.htm"><span class="l"></span><span class="r"></span><span class="t">СОФТ</span></a></li>
	</ul>
</div>
<div class="art-contentLayout">
<div class="art-content">



<div class="art-Post">
    <div class="art-Post-tl"></div>
    <div class="art-Post-tr"></div>
    <div class="art-Post-bl"></div>
    <div class="art-Post-br"></div>
    <div class="art-Post-tc"></div>
    <div class="art-Post-bc"></div>
    <div class="art-Post-cl"></div>
    <div class="art-Post-cr"></div>
    <div class="art-Post-cc"></div>
    <div class="art-Post-body">
<div class="art-Post-inner art-article">

<div class="art-PostContent">

<div class="navigation">
	<div class="alignleft">« <a href="http://mycontroller.ru/old_site/stm32-vosproizvedenie-wav-faylov/default.htm" rel="prev">STM32 Воспроизведение звука. Структура WAV-файлов</a></div>
	<div class="alignright"><a href="http://mycontroller.ru/old_site/stm32-vosproizvedenie-zvuka-nastroyka-dac/default.htm" rel="next">STM32 Воспроизведение звука. Настройка периферии + первый звук</a> »</div>
</div>

</div>
<div class="cleared"></div>


</div>

		<div class="cleared"></div>
    </div>
</div>

<div class="art-Post">
    <div class="art-Post-tl"></div>
    <div class="art-Post-tr"></div>
    <div class="art-Post-bl"></div>
    <div class="art-Post-br"></div>
    <div class="art-Post-tc"></div>
    <div class="art-Post-bc"></div>
    <div class="art-Post-cl"></div>
    <div class="art-Post-cr"></div>
    <div class="art-Post-cc"></div>
    <div class="art-Post-body">
<div class="art-Post-inner art-article">
<h2 class="art-PostHeader">
<a href="http://mycontroller.ru/old_site/stm32-dac-primeryi-ispolzovaniya/default.htm" rel="bookmark" title="Постоянная ссылка на STM32 DAC Примеры использования">
STM32 DAC Примеры использования</a>
</h2>
<div class="art-PostContent">

          <p>Прежде чем приступить к использованию ЦАПа в реальных устройствах, давайте немного поиграемся с ним на отладочной плате. Для начала напомним некоторые сведения об этом модуле.</p>
<p>Микроконтроллер содержит двухканальный 12-разрядный ЦАП (он же DAC). Канал 1 подключен к выводу PA4, канал 2 – к выводу PA5.</p>
<p>Регистры DOR1 и DOR2 – это 16-разрядные регистры данных для первого и второго каналов. Если в регистре данных содержится 0, то на соответствующем выходе напряжение равно нулю. Если в регистре данных 4095, то на выходе максимальное напряжение, равное опорному. Напряжение на выходе рассчитывается по следующей формуле:</p>
<p>Vout = Vref&nbsp; x&nbsp; ( DOR / 4095 ), где Vref – опорное напряжение, DOR – значение в регистре данных.</p>
<p><span id="more-3112"></span>Чтобы получить нужное напряжение на выходе, необходимо в регистр данных выбранного канала занести значение, рассчитанное по приведенной выше формуле. Но есть одна проблема – регистры данных доступны только для чтения. Для записи&nbsp; имеются специальные промежуточные регистры – <strong>D</strong>ata <strong>H</strong>olding <strong>R</strong>egister.
</p><p>Сразу пишем в промежуточный регистр, затем данные из промежуточного регистра переписываются в регистр данных, что приведет к появлению требуемого сигнала на выходе. Эта перезапись может происходить сама собой (через 1 такт) или под действием какого-то события, например от таймера.</p>
<p>Выбор способа перезаписи осуществляется разрядом TENх регистра управления CR. Если этот разряд сброшен, перезапись будет происходить автоматом, иначе потребуется внешнее событие. Источник события выбирается разрядами TSELх (х=1 или 2) регистра управления CR.</p>
<p>После сброса контроллера во всех разрядах нули, поэтому по умолчанию включен режим автоматической перезаписи.</p>
<p>Вернемся к промежуточным регистрам (по другому, регистры предварительной загрузки). Всего таких регистров в контроллере 9, по три регистра на каждый режим работы, которых тоже три. Рассмотрим эти три режима.</p>
<p><strong>Восьмиразрядный&nbsp; режим.</strong></p>
<p>В этом режиме весь диапазон выходных напряжений разбит на 256 уровней (ЦАП из 12-разрядного превращается в&nbsp; восьмиразрядный).</p>
<p>Для загрузки в первый канал используется регистр DHR8R1, во второй – DHR8R2. Эти регистры имеют 32 разряда (как впрочем все регистры предварительной загрузки), но используется только 8 младших разрядов.</p>
<p>Третий регистр – DHR8RD. Он используется для одновременной загрузки восьмиразрядных данных в оба канала. Структура регистра такая:</p>
<p><a href="http://mycontroller.ru/old_site/wp-content/uploads/image207.png"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top-width: 0px; border-bottom-width: 0px; margin-left: auto; border-left-width: 0px; margin-right: auto; padding-top: 0px" title="image" border="0" alt="image" src="./STM32 DAC Примеры использования_files/image_thumb208.png" width="611" height="123"></a></p>
<p>Как видно, младшие 8 разрядов используется для загрузки данных первого канала, следующие 8 разрядов – для второго канала. Это удобно для воспроизведения стереосигнала (по-моему, ЦАП в этих контроллерах оптимизирован для воспроизведения аудио сигнала). Формат стереосигнала обычно содержит чередующиеся выборки левого и правого канала, поэтому такая структура регистра очень удобна.</p>
<p>Попробуем используя приведенные выше регистры получить требуемый уровень сигнала на выходе ЦАПа (предполагаем, что данную настройку выполняем после ресета контроллера, когда во всех разрядах регистров нули):</p>

<div class="wp_syntax"><table><tbody><tr><td class="line_numbers"><pre>1
2
3
4
5
6
</pre></td><td class="code"><pre class="c" style="font-family:monospace;">RCC<span style="color: #339933;">-&gt;</span>APB2ENR <span style="color: #339933;">|=</span> RCC_APB2ENR_IOPAEN<span style="color: #339933;">;</span>     <span style="color: #666666; font-style: italic;">// тактирование линий GPIOA</span>
RCC<span style="color: #339933;">-&gt;</span>APB1ENR <span style="color: #339933;">|=</span> RCC_APB1ENR_DACEN<span style="color: #339933;">;</span>      <span style="color: #666666; font-style: italic;">// включить тактирование ЦАПа</span>
DAC<span style="color: #339933;">-&gt;</span>CR      <span style="color: #339933;">|=</span> DAC_CR_EN1<span style="color: #339933;">;</span>             <span style="color: #666666; font-style: italic;">// включить канал №1</span>
DAC<span style="color: #339933;">-&gt;</span>CR      <span style="color: #339933;">|=</span> DAC_CR_EN2<span style="color: #339933;">;</span>             <span style="color: #666666; font-style: italic;">// включить канал №2</span>
DAC<span style="color: #339933;">-&gt;</span>DHR8R1   <span style="color: #339933;">=</span> <span style="color: #208080;">0xff</span><span style="color: #339933;">;</span>                   <span style="color: #666666; font-style: italic;">// на выходе канала 1 максимальное напряжение</span>
DAC<span style="color: #339933;">-&gt;</span>DHR8R2   <span style="color: #339933;">=</span> <span style="color: #208080;">0x7f</span><span style="color: #339933;">;</span>                   <span style="color: #666666; font-style: italic;">// на выходе канала 2 половина максимального напряжения</span></pre></td></tr></tbody></table></div>

<p>После этого можем измерить напряжение на выходе. На первом канале у меня получилось 2.9V, на втором примерно 1.5V</p>
<p>Того же&nbsp; результата можно добиться&nbsp; используя регистр DHR8RD. Для этого две последние строки нужно заменить одной:</p>

<div class="wp_syntax"><table><tbody><tr><td class="line_numbers"><pre>1
</pre></td><td class="code"><pre class="c" style="font-family:monospace;">DAC<span style="color: #339933;">-&gt;</span>DHR8RD <span style="color: #339933;">=</span> <span style="color: #208080;">0x7fff</span><span style="color: #339933;">;</span>                   <span style="color: #666666; font-style: italic;">//загрузить 0x7f во второй канал и 0xff в первый       /</span></pre></td></tr></tbody></table></div>

<p><strong>12-разрядный режим с выравниванием вправо.</strong></p>
<p>Задействованы все 12 разрядов ЦАПа. Регистр DHR12R1 обеспечивает доступ к первому каналу, регистр DHR12R2 – ко второму. Регистры 32-разрядные, но задействованы только 12 младших разрядов.</p>
<p>Для одновременной загрузки в оба канала используется регистр DHR12RD. В нем младшие 12 разрядов содержат значения для первого канала, а разряды 16..27 – данные второго канала.</p>
<p><a href="http://mycontroller.ru/old_site/wp-content/uploads/image208.png"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top-width: 0px; border-bottom-width: 0px; margin-left: auto; border-left-width: 0px; margin-right: auto; padding-top: 0px" title="image" border="0" alt="image" src="./STM32 DAC Примеры использования_files/image_thumb209.png" width="612" height="194"></a> Получается все как в восьмиразрядном режиме, только точность выше.</p>
<p><strong>12-разрядный режим с выравниванием влево.</strong></p>
<p>Хитрый режим. Благодаря ему можно легко выводить звуковые данные, которые имеют разрядность 16 бит. Не будь этого режима, для вывода 16-разрядных данных приходилось бы сдвигать каждый отсчет (сэмпл)&nbsp; на 4 разряда вправо, а это очень утомительно для контроллера.</p>
<p>Регистр DHR12L1 используется для первого канала, DHR12L2 – для второго. Используются разряды с 4 по 15, остальные игнорируются.</p>
<p>Для одновременной загрузки в оба канала используется регистр DHR12LD. Структура у него такая:</p>
<p><a href="http://mycontroller.ru/old_site/wp-content/uploads/image209.png"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top-width: 0px; border-bottom-width: 0px; margin-left: auto; border-left-width: 0px; margin-right: auto; padding-top: 0px" title="image" border="0" alt="image" src="./STM32 DAC Примеры использования_files/image_thumb210.png" width="613" height="192"></a></p>
<p>Итак, для загрузки данных имеется 9 регистров. На первый взгляд могло показаться, что это много, но при детальном рассмотрении понимаешь, что все очень хорошо продумано. Разработчики в ST не зря свой хлеб <span style="text-decoration: line-through">с маслом</span> жуют.</p>
<h3 align="center">Передача данных в ЦАП посредством ДМА</h3>
<p align="center">Это очень удобный режим, так как позволяет выводить данные из памяти в ЦАП (а значит и на выход ЦАПа) с минимальным участием процессора.</p>
<p align="center">Предположим, что на выходе нашего дорогого ЦАПа необходимо сформировать сигнал определенной формы (это может быть синусоида, звуковой сигнал и др.).</p>
<p align="center">Для простоты попробуем вывести периодический сигнал, изменяющийся по такому закону: 0, 1/4Vref, 1/2Vref, 3/4Vref, Vref, 3/4Vref, 1/2Vref, 1/4Vref.</p>
<p align="center">Для этого понадобится всего 8 отсчетов. Их немного, но это позволит легко проверить сигнал на выходе обычным мультиметром.</p>
<p align="center">Таблицу значений уровней выводимого сигнала занесем в память:</p>

<div class="wp_syntax"><table><tbody><tr><td class="line_numbers"><pre>1
</pre></td><td class="code"><pre class="c" style="font-family:monospace;"><span style="color: #993333;">unsigned</span> <span style="color: #993333;">char</span> tab<span style="color: #009900;">[</span><span style="color: #0000dd;">8</span><span style="color: #009900;">]</span> <span style="color: #339933;">=</span> <span style="color: #009900;">{</span><span style="color: #0000dd;">0</span><span style="color: #339933;">,</span><span style="color: #0000dd;">63</span><span style="color: #339933;">,</span><span style="color: #0000dd;">127</span><span style="color: #339933;">,</span><span style="color: #0000dd;">191</span><span style="color: #339933;">,</span><span style="color: #0000dd;">255</span><span style="color: #339933;">,</span><span style="color: #0000dd;">191</span><span style="color: #339933;">,</span><span style="color: #0000dd;">127</span><span style="color: #339933;">,</span><span style="color: #0000dd;">63</span><span style="color: #009900;">}</span><span style="color: #339933;">;</span>                                         <span style="color: #339933;">/</span></pre></td></tr></tbody></table></div>

<p>Итак, у нас есть буфер в памяти, данные из которого нужно последовательно байт за байтом перемещать в регистр первого канала ЦАПа. Этим буде заниматься ДМА, но необходимо заставить его выдавать данные с заданной периодичностью (в нашем случае 2сек). Для этого нужен таймер. Я задействовал таймер TIM6, который управляет третьим каналом ДМА. Настройка ЦАПа, ДМА, и TIM6 будет выглядеть следующим образом:</p>
<p></p>

<div class="wp_syntax"><table><tbody><tr><td class="line_numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
</pre></td><td class="code"><pre class="c" style="font-family:monospace;"><span style="color: #666666; font-style: italic;">//Настраиваем первый канал ЦАПа для приема данных от ДМА</span>
RCC<span style="color: #339933;">-&gt;</span>APB2ENR <span style="color: #339933;">|=</span> RCC_APB2ENR_IOPAEN<span style="color: #339933;">;</span>            <span style="color: #666666; font-style: italic;">//тактирование линий GPIOA</span>
RCC<span style="color: #339933;">-&gt;</span>APB1ENR <span style="color: #339933;">|=</span> RCC_APB1ENR_DACEN<span style="color: #339933;">;</span>             <span style="color: #666666; font-style: italic;">//тактирование ЦАПа</span>
DAC<span style="color: #339933;">-&gt;</span>CR      <span style="color: #339933;">|=</span> DAC_CR_DMAEN1<span style="color: #339933;">;</span>                 <span style="color: #666666; font-style: italic;">//разрешить прием данных канала №1 от ДМА</span>
DAC<span style="color: #339933;">-&gt;</span>CR      <span style="color: #339933;">|=</span> DAC_CR_EN1<span style="color: #339933;">;</span>                    <span style="color: #666666; font-style: italic;">//включить канал 1</span>
<span style="color: #666666; font-style: italic;">//Настроить третий канал ДМА для перемещения данных из буфера </span>
<span style="color: #666666; font-style: italic;">//в промежуточный регистр данных первого канала ЦАПа:</span>
RCC<span style="color: #339933;">-&gt;</span>AHBENR         <span style="color: #339933;">|=</span> RCC_AHBENR_DMA1EN<span style="color: #339933;">;</span>      <span style="color: #666666; font-style: italic;">//тактирование DMA</span>
DMA1_Channel3<span style="color: #339933;">-&gt;</span>CPAR  <span style="color: #339933;">=</span> <span style="color: #009900;">(</span><span style="color: #993333;">uint32_t</span><span style="color: #009900;">)</span><span style="color: #339933;">&amp;</span>DAC<span style="color: #339933;">-&gt;</span>DHR8R1<span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">//указатель на регистр периферии</span>
DMA1_Channel3<span style="color: #339933;">-&gt;</span>CMAR  <span style="color: #339933;">=</span> <span style="color: #009900;">(</span><span style="color: #993333;">uint32_t</span><span style="color: #009900;">)</span><span style="color: #339933;">&amp;</span>tab<span style="color: #009900;">[</span><span style="color: #0000dd;">0</span><span style="color: #009900;">]</span><span style="color: #339933;">;</span>      <span style="color: #666666; font-style: italic;">//указатель на начало буфера в памяти</span>
DMA1_Channel3<span style="color: #339933;">-&gt;</span>CCR  <span style="color: #339933;">|=</span> DMA_CCR3_DIR<span style="color: #339933;">;</span>           <span style="color: #666666; font-style: italic;">//направление передачи - из памяти в периферию </span>
DMA1_Channel3<span style="color: #339933;">-&gt;</span>CNDTR <span style="color: #339933;">=</span> <span style="color: #0000dd;">8</span><span style="color: #339933;">;</span>                      <span style="color: #666666; font-style: italic;">//размер буфера  </span>
DMA1_Channel3<span style="color: #339933;">-&gt;</span>CCR  <span style="color: #339933;">&amp;=</span> ~DMA_CCR3_PINC<span style="color: #339933;">;</span>         <span style="color: #666666; font-style: italic;">//адрес периферии не инкрементируем</span>
DMA1_Channel3<span style="color: #339933;">-&gt;</span>CCR  <span style="color: #339933;">|=</span> DMA_CCR3_MINC<span style="color: #339933;">;</span>          <span style="color: #666666; font-style: italic;">//адрес памяти инкрементируем</span>
DMA1_Channel3<span style="color: #339933;">-&gt;</span>CCR  <span style="color: #339933;">&amp;=</span> ~DMA_CCR3_PSIZE<span style="color: #339933;">;</span>        <span style="color: #666666; font-style: italic;">//размерность данных периферии - 8 бит.</span>
DMA1_Channel3<span style="color: #339933;">-&gt;</span>CCR  <span style="color: #339933;">&amp;=</span> ~DMA_CCR3_MSIZE<span style="color: #339933;">;</span>        <span style="color: #666666; font-style: italic;">//размерность данных памяти    - 8 бит</span>
DMA1_Channel3<span style="color: #339933;">-&gt;</span>CCR  <span style="color: #339933;">|=</span> DMA_CCR3_CIRC<span style="color: #339933;">;</span>          <span style="color: #666666; font-style: italic;">//включить циклический режим передачи данных</span>
DMA1_Channel3<span style="color: #339933;">-&gt;</span>CCR  <span style="color: #339933;">|=</span> DMA_CCR3_PL<span style="color: #339933;">;</span>            <span style="color: #666666; font-style: italic;">//приоритет</span>
DMA1_Channel3<span style="color: #339933;">-&gt;</span>CCR  <span style="color: #339933;">|=</span> DMA_CCR3_EN<span style="color: #339933;">;</span>            <span style="color: #666666; font-style: italic;">//разрешаем работу третьего канала DMA</span>
<span style="color: #666666; font-style: italic;">//Запуск передачи очередного значения через ДМА будет происходить от TIM6  </span>
RCC<span style="color: #339933;">-&gt;</span>APB1ENR        <span style="color: #339933;">|=</span> RCC_APB1ENR_TIM6EN<span style="color: #339933;">;</span>     <span style="color: #666666; font-style: italic;">//подаем тактирование TIM6</span>
TIM6<span style="color: #339933;">-&gt;</span>PSC            <span style="color: #339933;">=</span> <span style="color: #0000dd;">24000</span><span style="color: #339933;">-</span><span style="color: #0000dd;">1</span><span style="color: #339933;">;</span>                <span style="color: #666666; font-style: italic;">//на счетный регистр подаем импульсы 1мс</span>
TIM6<span style="color: #339933;">-&gt;</span>ARR            <span style="color: #339933;">=</span> <span style="color: #0000dd;">2000</span><span style="color: #339933;">-</span><span style="color: #0000dd;">1</span><span style="color: #339933;">;</span>                 <span style="color: #666666; font-style: italic;">//1мс х 2000 = 2сек</span>
TIM6<span style="color: #339933;">-&gt;</span>DIER          <span style="color: #339933;">|=</span> TIM_DIER_UDE<span style="color: #339933;">;</span>           <span style="color: #666666; font-style: italic;">//разрешить запрос DMA при обновлении </span>
                                               <span style="color: #666666; font-style: italic;">//счетного регистра</span>
TIM6<span style="color: #339933;">-&gt;</span>CR1           <span style="color: #339933;">|=</span> TIM_CR1_CEN<span style="color: #339933;">;</span>            <span style="color: #666666; font-style: italic;">//запуск таймера</span></pre></td></tr></tbody></table></div>

<p>Небольшое пояснение к настройке таймера. Для обеспечения подачи миллисекундных импульсов в регистр CNT я занес в регистр PSC значение 24000-1, т.к. у меня тактовая частота 24МГц.</p>
<p>После таких настроек мы должны получить на первом выходе ЦАПа требуемую последовательность уровней, которую легко измерить вольтметром.</p>
<p>Хотя для работы через ДМА необходимо потрудиться, оно того стоит. Ведь в дальнейшем передача данных будет производиться автоматически.</p>
                  
</div>
<div class="cleared"></div>
<div class="art-PostFooterIcons art-metadata-icons">
Рубрика: <a href="http://mycontroller.ru/old_site/category/mikrokontrolleryi-stm32/dac/default.htm" title="Просмотреть все записи в рубрике «DAC»" rel="category tag">DAC</a>, <a href="http://mycontroller.ru/old_site/category/mikrokontrolleryi-stm32/default.htm" title="Просмотреть все записи в рубрике «МИКРОКОНТРОЛЛЕРЫ STM32»" rel="category tag">МИКРОКОНТРОЛЛЕРЫ STM32</a>
</div>

</div>

		<div class="cleared"></div>
    </div>
</div>


<!-- You can start editing here. -->


<div class="art-Post">
    <div class="art-Post-tl"></div>
    <div class="art-Post-tr"></div>
    <div class="art-Post-bl"></div>
    <div class="art-Post-br"></div>
    <div class="art-Post-tc"></div>
    <div class="art-Post-bc"></div>
    <div class="art-Post-cl"></div>
    <div class="art-Post-cr"></div>
    <div class="art-Post-cc"></div>
    <div class="art-Post-body">
<div class="art-Post-inner art-article">

<div class="art-PostContent">

<h3 id="comments">Комментарии (9) на “STM32 DAC Примеры использования”</h3>



</div>
<div class="cleared"></div>


</div>

		<div class="cleared"></div>
    </div>
</div>


	<ul class="commentlist">
       <li class="comment even thread-even depth-1" id="li-comment-1344">
     <div id="comment-1344">
<div class="art-Post">
         <div class="art-Post-tl"></div>
         <div class="art-Post-tr"></div>
         <div class="art-Post-bl"></div>
         <div class="art-Post-br"></div>
         <div class="art-Post-tc"></div>
         <div class="art-Post-bc"></div>
         <div class="art-Post-cl"></div>
         <div class="art-Post-cr"></div>
         <div class="art-Post-cc"></div>
         <div class="art-Post-body">
     <div class="art-Post-inner art-article">
     
<div class="art-PostContent">
     
      <div class="comment-author vcard">
                  <cite class="fn">Open:</cite>
      </div>
      
      <div class="comment-meta commentmetadata"><a href="http://mycontroller.ru/old_site/stm32-dac-primeryi-ispolzovaniya/default.htm#comment-1344">01.10.2012 в 11:55</a></div>

      <p>На STM32F100 пришлось таки ногу проинициализировать:<br>
GPIOA-&gt;CRL &amp;= ~GPIO_CRL_MODE4;<br>
GPIOA-&gt;CRL &amp;= ~GPIO_CRL_CNF4;</p>

      <div class="reply">
         <a class="comment-reply-link" href="http://mycontroller.ru/old_site/stm32-dac-primeryi-ispolzovaniya/@replytocom=1344#respond" onclick="return addComment.moveForm(&quot;comment-1344&quot;, &quot;1344&quot;, &quot;respond&quot;, &quot;3112&quot;)">Ответить</a>      </div>

      </div>
      <div class="cleared"></div>
      

      </div>
      
      		<div class="cleared"></div>
          </div>
      </div>
      
     </div>
</li>
   <li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1445">
     <div id="comment-1445">
<div class="art-Post">
         <div class="art-Post-tl"></div>
         <div class="art-Post-tr"></div>
         <div class="art-Post-bl"></div>
         <div class="art-Post-br"></div>
         <div class="art-Post-tc"></div>
         <div class="art-Post-bc"></div>
         <div class="art-Post-cl"></div>
         <div class="art-Post-cr"></div>
         <div class="art-Post-cc"></div>
         <div class="art-Post-body">
     <div class="art-Post-inner art-article">
     
<div class="art-PostContent">
     
      <div class="comment-author vcard">
                  <cite class="fn">Dmytro:</cite>
      </div>
      
      <div class="comment-meta commentmetadata"><a href="http://mycontroller.ru/old_site/stm32-dac-primeryi-ispolzovaniya/default.htm#comment-1445">10.10.2012 в 12:00</a></div>

      <p>Отличный цикл. Так держать!!!</p>

      <div class="reply">
         <a class="comment-reply-link" href="http://mycontroller.ru/old_site/stm32-dac-primeryi-ispolzovaniya/@replytocom=1445#respond" onclick="return addComment.moveForm(&quot;comment-1445&quot;, &quot;1445&quot;, &quot;respond&quot;, &quot;3112&quot;)">Ответить</a>      </div>

      </div>
      <div class="cleared"></div>
      

      </div>
      
      		<div class="cleared"></div>
          </div>
      </div>
      
     </div>
</li>
   <li class="comment even thread-even depth-1" id="li-comment-1526">
     <div id="comment-1526">
<div class="art-Post">
         <div class="art-Post-tl"></div>
         <div class="art-Post-tr"></div>
         <div class="art-Post-bl"></div>
         <div class="art-Post-br"></div>
         <div class="art-Post-tc"></div>
         <div class="art-Post-bc"></div>
         <div class="art-Post-cl"></div>
         <div class="art-Post-cr"></div>
         <div class="art-Post-cc"></div>
         <div class="art-Post-body">
     <div class="art-Post-inner art-article">
     
<div class="art-PostContent">
     
      <div class="comment-author vcard">
                  <cite class="fn">Victor:</cite>
      </div>
      
      <div class="comment-meta commentmetadata"><a href="http://mycontroller.ru/old_site/stm32-dac-primeryi-ispolzovaniya/default.htm#comment-1526">16.10.2012 в 13:33</a></div>

      <p>Согласно референс мануалу для f101, f102, f103, f105 и f107,  TIM6 и DAC_Channel1 закреплены за третьим каналом второго DMA, а в вашем примере указан первый DMA.</p>

      <div class="reply">
         <a class="comment-reply-link" href="http://mycontroller.ru/old_site/stm32-dac-primeryi-ispolzovaniya/@replytocom=1526#respond" onclick="return addComment.moveForm(&quot;comment-1526&quot;, &quot;1526&quot;, &quot;respond&quot;, &quot;3112&quot;)">Ответить</a>      </div>

      </div>
      <div class="cleared"></div>
      

      </div>
      
      		<div class="cleared"></div>
          </div>
      </div>
      
     </div>
</li>
   <li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1528">
     <div id="comment-1528">
<div class="art-Post">
         <div class="art-Post-tl"></div>
         <div class="art-Post-tr"></div>
         <div class="art-Post-bl"></div>
         <div class="art-Post-br"></div>
         <div class="art-Post-tc"></div>
         <div class="art-Post-bc"></div>
         <div class="art-Post-cl"></div>
         <div class="art-Post-cr"></div>
         <div class="art-Post-cc"></div>
         <div class="art-Post-body">
     <div class="art-Post-inner art-article">
     
<div class="art-PostContent">
     
      <div class="comment-author vcard">
                  <cite class="fn">Victor:</cite>
      </div>
      
      <div class="comment-meta commentmetadata"><a href="http://mycontroller.ru/old_site/stm32-dac-primeryi-ispolzovaniya/default.htm#comment-1528">16.10.2012 в 14:53</a></div>

      <p>Этот пример для f100?</p>

      <div class="reply">
         <a class="comment-reply-link" href="http://mycontroller.ru/old_site/stm32-dac-primeryi-ispolzovaniya/@replytocom=1528#respond" onclick="return addComment.moveForm(&quot;comment-1528&quot;, &quot;1528&quot;, &quot;respond&quot;, &quot;3112&quot;)">Ответить</a>      </div>

      </div>
      <div class="cleared"></div>
      

      </div>
      
      		<div class="cleared"></div>
          </div>
      </div>
      
     </div>
<ul class="children">
   <li class="comment byuser comment-author-admin bypostauthor even depth-2" id="li-comment-1529">
     <div id="comment-1529">
<div class="art-Post">
         <div class="art-Post-tl"></div>
         <div class="art-Post-tr"></div>
         <div class="art-Post-bl"></div>
         <div class="art-Post-br"></div>
         <div class="art-Post-tc"></div>
         <div class="art-Post-bc"></div>
         <div class="art-Post-cl"></div>
         <div class="art-Post-cr"></div>
         <div class="art-Post-cc"></div>
         <div class="art-Post-body">
     <div class="art-Post-inner art-article">
     
<div class="art-PostContent">
     
      <div class="comment-author vcard">
                  <cite class="fn">kontroller:</cite>
      </div>
      
      <div class="comment-meta commentmetadata"><a href="http://mycontroller.ru/old_site/stm32-dac-primeryi-ispolzovaniya/default.htm#comment-1529">16.10.2012 в 15:28</a></div>

      <p>Да</p>

      <div class="reply">
         <a class="comment-reply-link" href="http://mycontroller.ru/old_site/stm32-dac-primeryi-ispolzovaniya/@replytocom=1529#respond" onclick="return addComment.moveForm(&quot;comment-1529&quot;, &quot;1529&quot;, &quot;respond&quot;, &quot;3112&quot;)">Ответить</a>      </div>

      </div>
      <div class="cleared"></div>
      

      </div>
      
      		<div class="cleared"></div>
          </div>
      </div>
      
     </div>
</li>
</ul>
</li>
   <li class="comment odd alt thread-even depth-1" id="li-comment-2037">
     <div id="comment-2037">
<div class="art-Post">
         <div class="art-Post-tl"></div>
         <div class="art-Post-tr"></div>
         <div class="art-Post-bl"></div>
         <div class="art-Post-br"></div>
         <div class="art-Post-tc"></div>
         <div class="art-Post-bc"></div>
         <div class="art-Post-cl"></div>
         <div class="art-Post-cr"></div>
         <div class="art-Post-cc"></div>
         <div class="art-Post-body">
     <div class="art-Post-inner art-article">
     
<div class="art-PostContent">
     
      <div class="comment-author vcard">
                  <cite class="fn">Антон:</cite>
      </div>
      
      <div class="comment-meta commentmetadata"><a href="http://mycontroller.ru/old_site/stm32-dac-primeryi-ispolzovaniya/default.htm#comment-2037">02.11.2012 в 21:07</a></div>

      <p>День добрый. А подскажите пожалуйста: каким образом связаны события таймера и ДМА?<br>
Пытаюсь освоить сей камень (stm32f100c4).<br>
Пользуюсь их (stm) библиотекой<br>
В отладчике вижу, что таймер считает, а ДМА стоит на месте, соответственно ДАК не работает.<br>
При этом аналогичным образом настроен ДМА и АЦП. Там всё работает. </p>
<p>Что-то в голове не могу уложить схему, как работает этот зоопарк из таймера, ДМА, ДАКа.</p>

      <div class="reply">
         <a class="comment-reply-link" href="http://mycontroller.ru/old_site/stm32-dac-primeryi-ispolzovaniya/@replytocom=2037#respond" onclick="return addComment.moveForm(&quot;comment-2037&quot;, &quot;2037&quot;, &quot;respond&quot;, &quot;3112&quot;)">Ответить</a>      </div>

      </div>
      <div class="cleared"></div>
      

      </div>
      
      		<div class="cleared"></div>
          </div>
      </div>
      
     </div>
</li>
   <li class="comment even thread-odd thread-alt depth-1" id="li-comment-2038">
     <div id="comment-2038">
<div class="art-Post">
         <div class="art-Post-tl"></div>
         <div class="art-Post-tr"></div>
         <div class="art-Post-bl"></div>
         <div class="art-Post-br"></div>
         <div class="art-Post-tc"></div>
         <div class="art-Post-bc"></div>
         <div class="art-Post-cl"></div>
         <div class="art-Post-cr"></div>
         <div class="art-Post-cc"></div>
         <div class="art-Post-body">
     <div class="art-Post-inner art-article">
     
<div class="art-PostContent">
     
      <div class="comment-author vcard">
                  <cite class="fn">Антон:</cite>
      </div>
      
      <div class="comment-meta commentmetadata"><a href="http://mycontroller.ru/old_site/stm32-dac-primeryi-ispolzovaniya/default.htm#comment-2038">02.11.2012 в 21:25</a></div>

      <p>Как оно работает я так и не понял, но проблема была в неправильном номере канала дма. Использую Т15 а для него надо канал 5</p>

      <div class="reply">
         <a class="comment-reply-link" href="http://mycontroller.ru/old_site/stm32-dac-primeryi-ispolzovaniya/@replytocom=2038#respond" onclick="return addComment.moveForm(&quot;comment-2038&quot;, &quot;2038&quot;, &quot;respond&quot;, &quot;3112&quot;)">Ответить</a>      </div>

      </div>
      <div class="cleared"></div>
      

      </div>
      
      		<div class="cleared"></div>
          </div>
      </div>
      
     </div>
</li>
   <li class="comment odd alt thread-even depth-1" id="li-comment-2355">
     <div id="comment-2355">
<div class="art-Post">
         <div class="art-Post-tl"></div>
         <div class="art-Post-tr"></div>
         <div class="art-Post-bl"></div>
         <div class="art-Post-br"></div>
         <div class="art-Post-tc"></div>
         <div class="art-Post-bc"></div>
         <div class="art-Post-cl"></div>
         <div class="art-Post-cr"></div>
         <div class="art-Post-cc"></div>
         <div class="art-Post-body">
     <div class="art-Post-inner art-article">
     
<div class="art-PostContent">
     
      <div class="comment-author vcard">
                  <cite class="fn"><a href="http://mycontroller.ru/www.all-paneli.ru/default.htm" rel="external nofollow" class="url">Paneli</a>:</cite>
      </div>
      
      <div class="comment-meta commentmetadata"><a href="http://mycontroller.ru/old_site/stm32-dac-primeryi-ispolzovaniya/default.htm#comment-2355">03.12.2012 в 00:50</a></div>

      <p>Респект.</p>

      <div class="reply">
         <a class="comment-reply-link" href="http://mycontroller.ru/old_site/stm32-dac-primeryi-ispolzovaniya/@replytocom=2355#respond" onclick="return addComment.moveForm(&quot;comment-2355&quot;, &quot;2355&quot;, &quot;respond&quot;, &quot;3112&quot;)">Ответить</a>      </div>

      </div>
      <div class="cleared"></div>
      

      </div>
      
      		<div class="cleared"></div>
          </div>
      </div>
      
     </div>
</li>
   <li class="comment even thread-odd thread-alt depth-1" id="li-comment-2564">
     <div id="comment-2564">
<div class="art-Post">
         <div class="art-Post-tl"></div>
         <div class="art-Post-tr"></div>
         <div class="art-Post-bl"></div>
         <div class="art-Post-br"></div>
         <div class="art-Post-tc"></div>
         <div class="art-Post-bc"></div>
         <div class="art-Post-cl"></div>
         <div class="art-Post-cr"></div>
         <div class="art-Post-cc"></div>
         <div class="art-Post-body">
     <div class="art-Post-inner art-article">
     
<div class="art-PostContent">
     
      <div class="comment-author vcard">
                  <cite class="fn"><a href="http://mycontroller.ru/hobby-research.at.ua/default.htm" rel="external nofollow" class="url">LeftRadio</a>:</cite>
      </div>
      
      <div class="comment-meta commentmetadata"><a href="http://mycontroller.ru/old_site/stm32-dac-primeryi-ispolzovaniya/default.htm#comment-2564">13.01.2013 в 14:50</a></div>

      <p>«зоопарк» из таймера, ПДП и ЦАП работает следующим образом — таймер по событию обновления запускает преобразование ЦАП, а ЦАП в свою очередь запрашивает данные у ПДП, вот и все. Таким образом получается минимальный джиттер и минимальное участие МК в передаче данных в ЦАП, особенно если используется циклический режим передачи данных, как в этом примере.</p>

      <div class="reply">
         <a class="comment-reply-link" href="http://mycontroller.ru/old_site/stm32-dac-primeryi-ispolzovaniya/@replytocom=2564#respond" onclick="return addComment.moveForm(&quot;comment-2564&quot;, &quot;2564&quot;, &quot;respond&quot;, &quot;3112&quot;)">Ответить</a>      </div>

      </div>
      <div class="cleared"></div>
      

      </div>
      
      		<div class="cleared"></div>
          </div>
      </div>
      
     </div>
</li>
  </ul>


 

<div class="art-Post">
    <div class="art-Post-tl"></div>
    <div class="art-Post-tr"></div>
    <div class="art-Post-bl"></div>
    <div class="art-Post-br"></div>
    <div class="art-Post-tc"></div>
    <div class="art-Post-bc"></div>
    <div class="art-Post-cl"></div>
    <div class="art-Post-cr"></div>
    <div class="art-Post-cc"></div>
    <div class="art-Post-body">
<div class="art-Post-inner art-article">

<div class="art-PostContent">

<div id="respond">
  
  <h3>Оставить комментарий</h3>

<div class="cancel-comment-reply">
	<small><a rel="nofollow" id="cancel-comment-reply-link" href="http://mycontroller.ru/old_site/stm32-dac-primeryi-ispolzovaniya/default.htm#respond" style="display:none;">Нажмите, чтобы отменить ответ.</a></small>
</div>


<form action="http://mycontroller.ru/old_site/wp-comments-post.php" method="post" id="commentform">


<p><input type="text" name="author" id="author" value="" size="22" tabindex="1">
<label for="author"><small>Имя </small></label></p>

<p><input type="text" name="email" id="email" value="" size="22" tabindex="2">
<label for="email"><small>E-mail (не публикуется) </small></label></p>

<p><input type="text" name="url" id="url" value="" size="22" tabindex="3">
<label for="url"><small>Web-сайт</small></label></p>


<!--<p><small><strong>XHTML:</strong> Вы можете использовать эту разметку: <code>&lt;a href=&quot;&quot; title=&quot;&quot;&gt; &lt;abbr title=&quot;&quot;&gt; &lt;acronym title=&quot;&quot;&gt; &lt;b&gt; &lt;blockquote cite=&quot;&quot;&gt; &lt;cite&gt; &lt;code lang=&quot;&quot;&gt; &lt;del datetime=&quot;&quot;&gt; &lt;em&gt; &lt;i&gt; &lt;q cite=&quot;&quot;&gt; &lt;strike&gt; &lt;strong&gt; &lt;pre lang=&quot;&quot; extra=&quot;&quot;&gt; </code></small></p>-->

<p><textarea name="comment" id="comment" cols="100%" rows="10" tabindex="4"></textarea></p>

<p>
	<span class="art-button-wrapper">
		<span class="l"> </span>
		<span class="r"> </span>
		<input class="art-button" type="submit" name="submit" tabindex="5" value="Отправить">
	</span>
<input type="hidden" name="comment_post_ID" value="3112" id="comment_post_ID">
<input type="hidden" name="comment_parent" id="comment_parent" value="0">
</p>
	<script type="text/javascript">
	<!--
	refJS = escape( document[ 'referrer' ] );
	document.write("<input type='hidden' name='refJS' value='"+refJS+"'>");
	// -->
	</script><input type="hidden" name="refJS" value="http%3A//mycontroller.ru/old_site/stm32-vosproizvedenie-wav-faylov/default.htm">
	<p style="font-size:9px;clear:both;">Spam Protection by <a href="http://mycontroller.ru/www.polepositionmarketing.com/library/wp-spamfree/default.htm" title="WP-SpamFree WordPress Anti-Spam Plugin">WP-SpamFree</a></p>

</form>

</div>

</div>
<div class="cleared"></div>


</div>

		<div class="cleared"></div>
    </div>
</div>


</div>
<div class="art-sidebar1">      
<div id="mycategoryorder-2" class="widget widget_mycategoryorder"><div class="art-Block">
    <div class="art-Block-body">
<div class="art-BlockHeader">
    <div class="l"></div>
    <div class="r"></div>
    <div class="art-header-tag-icon">
        <div class="t">Рубрики</div>
    </div>
</div><div class="art-BlockContent">
    <div class="art-BlockContent-tl"></div>
    <div class="art-BlockContent-tr"></div>
    <div class="art-BlockContent-bl"></div>
    <div class="art-BlockContent-br"></div>
    <div class="art-BlockContent-tc"></div>
    <div class="art-BlockContent-bc"></div>
    <div class="art-BlockContent-cl"></div>
    <div class="art-BlockContent-cr"></div>
    <div class="art-BlockContent-cc"></div>
    <div class="art-BlockContent-body">
		<ul>
			<li class="cat-item cat-item-3"><a href="http://mycontroller.ru/old_site/category/mikrokontrolleryi-stm32/default.htm" title="Просмотреть все записи в рубрике «МИКРОКОНТРОЛЛЕРЫ STM32»">МИКРОКОНТРОЛЛЕРЫ STM32</a>
<ul class="children">
	<li class="cat-item cat-item-7"><a href="http://mycontroller.ru/old_site/category/mikrokontrolleryi-stm32/bootloader/default.htm" title="Просмотреть все записи в рубрике «Bootloader»">Bootloader</a>
</li>
	<li class="cat-item cat-item-14"><a href="http://mycontroller.ru/old_site/category/mikrokontrolleryi-stm32/portyi-vvoda-vyivoda/default.htm" title="Просмотреть все записи в рубрике «GPIO»">GPIO</a>
</li>
	<li class="cat-item cat-item-4"><a href="http://mycontroller.ru/old_site/category/mikrokontrolleryi-stm32/usart/default.htm" title="Просмотреть все записи в рубрике «USART»">USART</a>
</li>
	<li class="cat-item cat-item-5"><a href="http://mycontroller.ru/old_site/category/mikrokontrolleryi-stm32/dma/default.htm" title="Просмотреть все записи в рубрике «DMA»">DMA</a>
</li>
	<li class="cat-item cat-item-15"><a href="http://mycontroller.ru/old_site/category/mikrokontrolleryi-stm32/bkp-registryi/default.htm" title="Просмотреть все записи в рубрике «BKP»">BKP</a>
</li>
	<li class="cat-item cat-item-8"><a href="http://mycontroller.ru/old_site/category/mikrokontrolleryi-stm32/rtc/default.htm" title="Просмотреть все записи в рубрике «RTC»">RTC</a>
</li>
	<li class="cat-item cat-item-16"><a href="http://mycontroller.ru/old_site/category/mikrokontrolleryi-stm32/timer/default.htm" title="Просмотреть все записи в рубрике «TIMER»">TIMER</a>
</li>
	<li class="cat-item cat-item-21"><a href="http://mycontroller.ru/old_site/category/mikrokontrolleryi-stm32/spi/default.htm" title="Просмотреть все записи в рубрике «SPI»">SPI</a>
</li>
	<li class="cat-item cat-item-24"><a href="http://mycontroller.ru/old_site/category/mikrokontrolleryi-stm32/adc/default.htm" title="Просмотреть все записи в рубрике «ADC»">ADC</a>
</li>
	<li class="cat-item cat-item-25"><a href="http://mycontroller.ru/old_site/category/mikrokontrolleryi-stm32/dac/default.htm" title="Просмотреть все записи в рубрике «DAC»">DAC</a>
</li>
	<li class="cat-item cat-item-26"><a href="http://mycontroller.ru/old_site/category/mikrokontrolleryi-stm32/usb/default.htm" title="Просмотреть все записи в рубрике «USB»">USB</a>
</li>
</ul>
</li>
	<li class="cat-item cat-item-19"><a href="http://mycontroller.ru/old_site/category/vneshnie-ustroystva/default.htm" title="Просмотреть все записи в рубрике «ВНЕШНИЕ УСТРОЙСТВА»">ВНЕШНИЕ УСТРОЙСТВА</a>
<ul class="children">
	<li class="cat-item cat-item-23"><a href="http://mycontroller.ru/old_site/category/vneshnie-ustroystva/termodatchik-ds18b20/default.htm" title="Просмотреть все записи в рубрике «Термодатчик ds18b20»">Термодатчик ds18b20</a>
</li>
	<li class="cat-item cat-item-29"><a href="http://mycontroller.ru/old_site/category/vneshnie-ustroystva/enkoder/default.htm" title="Просмотреть все записи в рубрике «Энкодер»">Энкодер</a>
</li>
	<li class="cat-item cat-item-20"><a href="http://mycontroller.ru/old_site/category/vneshnie-ustroystva/karta-pamyati-sd/default.htm" title="Просмотреть все записи в рубрике «Карта памяти SD»">Карта памяти SD</a>
	<ul class="children">
	<li class="cat-item cat-item-31"><a href="http://mycontroller.ru/old_site/category/vneshnie-ustroystva/karta-pamyati-sd/rabota-s-ffatfs/default.htm" title="Просмотреть все записи в рубрике «Работа с FatFs»">Работа с FatFs</a>
</li>
	</ul>
</li>
</ul>
</li>
	<li class="cat-item cat-item-1"><a href="http://mycontroller.ru/old_site/category/bez-rubriki/default.htm" title="Просмотреть все записи в рубрике «МОИ ПРОЕКТЫ»">МОИ ПРОЕКТЫ</a>
<ul class="children">
	<li class="cat-item cat-item-6"><a href="http://mycontroller.ru/old_site/category/bez-rubriki/chasyi-na-stm32f100rb/default.htm" title="Просмотреть все записи в рубрике «Часы на STM32F100RB»">Часы на STM32F100RB</a>
</li>
	<li class="cat-item cat-item-28"><a href="http://mycontroller.ru/old_site/category/bez-rubriki/umnyiy-dom/default.htm" title="Просмотреть все записи в рубрике «Умный Дом»">Умный Дом</a>
</li>
	<li class="cat-item cat-item-30"><a href="http://mycontroller.ru/old_site/category/bez-rubriki/waveplayer/default.htm" title="Просмотреть все записи в рубрике «WavePlayer»">WavePlayer</a>
</li>
	<li class="cat-item cat-item-32"><a href="http://mycontroller.ru/old_site/category/bez-rubriki/sintezator-eliza/default.htm" title="Просмотреть все записи в рубрике «Синтезатор &quot;Элиза&quot;»">Синтезатор "Элиза"</a>
</li>
</ul>
</li>
	<li class="cat-item cat-item-10"><a href="http://mycontroller.ru/old_site/category/poleznyiy-soft/default.htm" title="Просмотреть все записи в рубрике «ПОЛЕЗНЫЙ СОФТ»">ПОЛЕЗНЫЙ СОФТ</a>
<ul class="children">
	<li class="cat-item cat-item-11"><a href="http://mycontroller.ru/old_site/category/poleznyiy-soft/stm32-generator-koda/default.htm" title="Просмотреть все записи в рубрике «STM32 генератор»">STM32 генератор</a>
</li>
</ul>
</li>
		</ul>
		
		<div class="cleared"></div>
    </div>
</div>

		<div class="cleared"></div>
    </div>
</div>
</div>		<div id="recent-posts-2" class="widget widget_recent_entries"><div class="art-Block">
    <div class="art-Block-body">
		<div class="art-BlockHeader">
    <div class="l"></div>
    <div class="r"></div>
    <div class="art-header-tag-icon">
        <div class="t">Свежие записи</div>
    </div>
</div><div class="art-BlockContent">
    <div class="art-BlockContent-tl"></div>
    <div class="art-BlockContent-tr"></div>
    <div class="art-BlockContent-bl"></div>
    <div class="art-BlockContent-br"></div>
    <div class="art-BlockContent-tc"></div>
    <div class="art-BlockContent-bc"></div>
    <div class="art-BlockContent-cl"></div>
    <div class="art-BlockContent-cr"></div>
    <div class="art-BlockContent-cc"></div>
    <div class="art-BlockContent-body">
		<ul>
				<li><a href="http://mycontroller.ru/old_site/stm32-interfeys-i2c-opisanie/default.htm" title="STM32 Интерфейс I2C. Описание">STM32 Интерфейс I2C. Описание</a></li>
				<li><a href="http://mycontroller.ru/old_site/stm32-sintezator-rechi-ldquo-eliza-rdquo-prodolzhenie/default.htm" title="STM32 Синтезатор речи “Элиза”. Продолжение">STM32 Синтезатор речи “Элиза”. Продолжение</a></li>
				<li><a href="http://mycontroller.ru/old_site/stm32-sintezator-rechi-ldquo-eliza-rdquo/default.htm" title="STM32 Синтезатор речи “Элиза”">STM32 Синтезатор речи “Элиза”</a></li>
				<li><a href="http://mycontroller.ru/old_site/stm32-generator-koda-novaya-versiya/default.htm" title="STM32 Генератор кода. Новая версия">STM32 Генератор кода. Новая версия</a></li>
				<li><a href="http://mycontroller.ru/old_site/stm32-generator-koda-konstruktor-komponentov/default.htm" title="STM32 “Конструктор компонентов” для “Генератора кода”">STM32 “Конструктор компонентов” для “Генератора кода”</a></li>
				</ul>
		
		<div class="cleared"></div>
    </div>
</div>

		<div class="cleared"></div>
    </div>
</div>
</div><div id="text-5" class="widget widget_text"><div class="art-Block">
    <div class="art-Block-body">
<div class="art-BlockHeader">
    <div class="l"></div>
    <div class="r"></div>
    <div class="art-header-tag-icon">
        <div class="t">Немного рекламы</div>
    </div>
</div><div class="art-BlockContent">
    <div class="art-BlockContent-tl"></div>
    <div class="art-BlockContent-tr"></div>
    <div class="art-BlockContent-bl"></div>
    <div class="art-BlockContent-br"></div>
    <div class="art-BlockContent-tc"></div>
    <div class="art-BlockContent-bc"></div>
    <div class="art-BlockContent-cl"></div>
    <div class="art-BlockContent-cr"></div>
    <div class="art-BlockContent-cc"></div>
    <div class="art-BlockContent-body">
			<div class="textwidget"><script type="text/javascript"><!--
google_ad_client = "ca-pub-6213925206017237";
/* second */
google_ad_slot = "7273021636";
google_ad_width = 200;
google_ad_height = 200;
//-->
</script>
<acript type="text/javascript" src="../../pagead2.googlesyndication.com/pagead/show_ads.js">
</acript></div>
		
		<div class="cleared"></div>
    </div>
</div>

		<div class="cleared"></div>
    </div>
</div>
</div><div id="linkcat-2" class="widget widget_links"><div class="art-Block">
    <div class="art-Block-body">
<div class="art-BlockHeader">
    <div class="l"></div>
    <div class="r"></div>
    <div class="art-header-tag-icon">
        <div class="t">Ссылки</div>
    </div>
</div><div class="art-BlockContent">
    <div class="art-BlockContent-tl"></div>
    <div class="art-BlockContent-tr"></div>
    <div class="art-BlockContent-bl"></div>
    <div class="art-BlockContent-br"></div>
    <div class="art-BlockContent-tc"></div>
    <div class="art-BlockContent-bc"></div>
    <div class="art-BlockContent-cl"></div>
    <div class="art-BlockContent-cr"></div>
    <div class="art-BlockContent-cc"></div>
    <div class="art-BlockContent-body">

	<ul class="xoxo blogroll">
<li><a href="http://mycontroller.ru/old_site/forum">Форум сайта</a></li>

	</ul>

		<div class="cleared"></div>
    </div>
</div>

		<div class="cleared"></div>
    </div>
</div>
</div>


<p align="center">

</p>

</div>
</div>
<div class="cleared"></div>




<div class="art-Footer">
    <div class="art-Footer-inner">
                <div class="art-Footer-text">
<p>
<a href="http://mycontroller.ru/old_site/stm32-dac-primeryi-ispolzovaniya/default.htm#">Contact Us</a> | <a href="http://mycontroller.ru/old_site/stm32-dac-primeryi-ispolzovaniya/default.htm#">Terms of Use</a> | <a href="http://mycontroller.ru/old_site/stm32-dac-primeryi-ispolzovaniya/default.htm#">Trademarks</a> | <a href="http://mycontroller.ru/old_site/stm32-dac-primeryi-ispolzovaniya/default.htm#">Privacy Statement</a><br>Copyright © 2009 My Controller. All Rights Reserved.</p>
</div>
    </div>
    <div class="art-Footer-background">
    </div>
</div>

		<div class="cleared"></div>
    </div>
</div>
<div class="cleared"></div>

</div>

<!-- 25 запросов. 0,319 секунд. -->
<div>
<!-- SyntaxHighlighter Stuff -->
<script type="text/javascript" src="./STM32 DAC Примеры использования_files/shCore.js.Без названия"></script>
<script type="text/javascript">
	SyntaxHighlighter.all();
</script>

</div>


</body></html>